<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ц╡Еш░ИCSRF | щ╗ОхнРЁЯМ░чаБхвГ</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="shortcut icon" href="favicon.ico">
    <meta name="description" content="хЬиф╗гчаБчЪДш┐╖холф╕нчй┐цвня╝Мф╣жхЖЩчЭАцФ╣хПШчФЯц┤╗чЪДцХ░хнЧчпЗчла">
    
    <link rel="preload" href="/blogs/assets/css/0.styles.d9a4f19e.css" as="style"><link rel="preload" href="/blogs/assets/js/app.b10d3b76.js" as="script"><link rel="preload" href="/blogs/assets/js/7.51cf2bb3.js" as="script"><link rel="preload" href="/blogs/assets/js/2.90913472.js" as="script"><link rel="preload" href="/blogs/assets/js/1.c35ebe2c.js" as="script"><link rel="preload" href="/blogs/assets/js/45.be0bd724.js" as="script"><link rel="prefetch" href="/blogs/assets/js/10.51f51c0e.js"><link rel="prefetch" href="/blogs/assets/js/11.f1c4e2ce.js"><link rel="prefetch" href="/blogs/assets/js/14.90b34deb.js"><link rel="prefetch" href="/blogs/assets/js/15.cd05d3f7.js"><link rel="prefetch" href="/blogs/assets/js/16.0ca60d78.js"><link rel="prefetch" href="/blogs/assets/js/17.26773bd0.js"><link rel="prefetch" href="/blogs/assets/js/18.21df733a.js"><link rel="prefetch" href="/blogs/assets/js/19.eed3c532.js"><link rel="prefetch" href="/blogs/assets/js/20.4c76e8be.js"><link rel="prefetch" href="/blogs/assets/js/21.f18babb4.js"><link rel="prefetch" href="/blogs/assets/js/22.249f648e.js"><link rel="prefetch" href="/blogs/assets/js/23.cb41f22a.js"><link rel="prefetch" href="/blogs/assets/js/24.c95ba296.js"><link rel="prefetch" href="/blogs/assets/js/25.4a450405.js"><link rel="prefetch" href="/blogs/assets/js/26.b1851237.js"><link rel="prefetch" href="/blogs/assets/js/27.ab146b7f.js"><link rel="prefetch" href="/blogs/assets/js/28.83af5ecf.js"><link rel="prefetch" href="/blogs/assets/js/29.17c1b3c2.js"><link rel="prefetch" href="/blogs/assets/js/3.8ff04919.js"><link rel="prefetch" href="/blogs/assets/js/30.5a702d15.js"><link rel="prefetch" href="/blogs/assets/js/31.9b363f9c.js"><link rel="prefetch" href="/blogs/assets/js/32.df071e6e.js"><link rel="prefetch" href="/blogs/assets/js/33.83f13db0.js"><link rel="prefetch" href="/blogs/assets/js/34.a5e21847.js"><link rel="prefetch" href="/blogs/assets/js/35.caa9411a.js"><link rel="prefetch" href="/blogs/assets/js/36.0997f85f.js"><link rel="prefetch" href="/blogs/assets/js/37.41a69cda.js"><link rel="prefetch" href="/blogs/assets/js/38.11c97fc9.js"><link rel="prefetch" href="/blogs/assets/js/39.c7a91778.js"><link rel="prefetch" href="/blogs/assets/js/4.7ab60d34.js"><link rel="prefetch" href="/blogs/assets/js/40.788bd3bb.js"><link rel="prefetch" href="/blogs/assets/js/41.bfd620d2.js"><link rel="prefetch" href="/blogs/assets/js/42.a93d1dad.js"><link rel="prefetch" href="/blogs/assets/js/43.36e369c4.js"><link rel="prefetch" href="/blogs/assets/js/44.a8c7c1be.js"><link rel="prefetch" href="/blogs/assets/js/46.0eead14d.js"><link rel="prefetch" href="/blogs/assets/js/47.9c0b8ec3.js"><link rel="prefetch" href="/blogs/assets/js/48.fedde897.js"><link rel="prefetch" href="/blogs/assets/js/49.658232de.js"><link rel="prefetch" href="/blogs/assets/js/5.07521870.js"><link rel="prefetch" href="/blogs/assets/js/50.e75baace.js"><link rel="prefetch" href="/blogs/assets/js/51.39f09a2a.js"><link rel="prefetch" href="/blogs/assets/js/52.86d8775b.js"><link rel="prefetch" href="/blogs/assets/js/53.2bcea0af.js"><link rel="prefetch" href="/blogs/assets/js/54.80cfc079.js"><link rel="prefetch" href="/blogs/assets/js/55.575fad98.js"><link rel="prefetch" href="/blogs/assets/js/56.a9ac12aa.js"><link rel="prefetch" href="/blogs/assets/js/57.bc25fe73.js"><link rel="prefetch" href="/blogs/assets/js/58.a1f3dfda.js"><link rel="prefetch" href="/blogs/assets/js/59.acfc0f60.js"><link rel="prefetch" href="/blogs/assets/js/6.7070ea7f.js"><link rel="prefetch" href="/blogs/assets/js/60.cfc92fb7.js"><link rel="prefetch" href="/blogs/assets/js/61.566a8f66.js"><link rel="prefetch" href="/blogs/assets/js/62.1c3ab2d6.js"><link rel="prefetch" href="/blogs/assets/js/63.f1df4d25.js"><link rel="prefetch" href="/blogs/assets/js/64.349b7d3b.js"><link rel="prefetch" href="/blogs/assets/js/65.3e277b74.js"><link rel="prefetch" href="/blogs/assets/js/66.f985ae29.js"><link rel="prefetch" href="/blogs/assets/js/67.fecbf0ba.js"><link rel="prefetch" href="/blogs/assets/js/68.1f08c812.js"><link rel="prefetch" href="/blogs/assets/js/69.55f47746.js"><link rel="prefetch" href="/blogs/assets/js/70.66e490da.js"><link rel="prefetch" href="/blogs/assets/js/8.8dfb1e90.js"><link rel="prefetch" href="/blogs/assets/js/9.18b271e2.js"><link rel="prefetch" href="/blogs/assets/js/vendors~docsearch.814a0df0.js">
    <link rel="stylesheet" href="/blogs/assets/css/0.styles.d9a4f19e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>щ╗ОхнРЁЯМ░чаБхвГ</h3> <p class="description" data-v-59e6cb88>хЬиф╗гчаБчЪДш┐╖холф╕нчй┐цвня╝Мф╣жхЖЩчЭАцФ╣хПШчФЯц┤╗чЪДцХ░хнЧчпЗчла</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>щ╗ОхнР</span>
        ┬а┬а
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/" class="home-link router-link-active"><img src="/blogs/avatar.jpg" alt="щ╗ОхнРЁЯМ░чаБхвГ" class="logo"> <span class="site-name">щ╗ОхнРЁЯМ░чаБхвГ</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs/" class="nav-link"><i class="undefined"></i>
  щжЦщб╡
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      хНЪхов
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/categories/хЙНчлп/" class="nav-link"><i class="undefined"></i>
  хЙНчлп
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/шобчоЧцЬ║ч╜Сч╗Ь/" class="nav-link"><i class="undefined"></i>
  шобчоЧцЬ║ч╜Сч╗Ь
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/чоЧц│Х/" class="nav-link"><i class="undefined"></i>
  чоЧц│Х
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/хнжцабшп╛чиЛ/" class="nav-link"><i class="undefined"></i>
  хнжцабшп╛чиЛ
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/щЭвшпХ/" class="nav-link"><i class="undefined"></i>
  щЭвшпХ
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/хРОчлп/" class="nav-link"><i class="undefined"></i>
  хРОчлп
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      щ╗ОхнРЁЯМ░Code
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/3206591176245848" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  цОШщЗС
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/YLiShu" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/blogs/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/blogs/avatar.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    щ╗ОхнР
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>32</h3> <h6 data-v-1fad0c41>цЦЗчла</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>18</h3> <h6 data-v-1fad0c41>цаЗчн╛</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/blogs/" class="nav-link"><i class="undefined"></i>
  щжЦщб╡
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      хНЪхов
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/categories/хЙНчлп/" class="nav-link"><i class="undefined"></i>
  хЙНчлп
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/шобчоЧцЬ║ч╜Сч╗Ь/" class="nav-link"><i class="undefined"></i>
  шобчоЧцЬ║ч╜Сч╗Ь
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/чоЧц│Х/" class="nav-link"><i class="undefined"></i>
  чоЧц│Х
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/хнжцабшп╛чиЛ/" class="nav-link"><i class="undefined"></i>
  хнжцабшп╛чиЛ
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/щЭвшпХ/" class="nav-link"><i class="undefined"></i>
  щЭвшпХ
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/хРОчлп/" class="nav-link"><i class="undefined"></i>
  хРОчлп
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      щ╗ОхнРЁЯМ░Code
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/3206591176245848" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  цОШщЗС
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/YLiShu" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/blogs/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>ц╡Еш░ИCSRF</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>щ╗ОхнР</span>
        ┬а┬а
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">ц╡Еш░ИCSRF</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>щ╗ОхнР</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2023/11/13</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>CSRF</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="csrf-ш╖ичлЩшп╖ц▒Вф╝кщАа"><a href="#csrf-ш╖ичлЩшп╖ц▒Вф╝кщАа" class="header-anchor">#</a> CSRF ш╖ичлЩшп╖ц▒Вф╝кщАа</h1> <p>Cross-site request forgeryя╝Иш╖ичлЩшп╖ц▒Вф╝кщАая╝Йя╝Мф╣Яшвлчз░ф╕║one-click attackцИЦшАЕsession ridingя╝МщАЪх╕╕ч╝йхЖЩф╕║CSRFцИЦXSRFя╝МцШпф╕АчзНцМЯцМБчФицИ╖хЬих╜УхЙНх╖▓чЩ╗х╜ХчЪДWebх║ФчФичиЛх║Пф╕КцЙзшбМщЭЮцЬмцДПчЪДцУНф╜ЬчЪДцФ╗хЗ╗цЦ╣х╝ПуАВхжВя╝ЪцФ╗хЗ╗шАЕшп▒хп╝чФицИ╖ш┐ЫхЕечммф╕ЙцЦ╣ч╜СчлЩя╝МхЬичммф╕ЙцЦ╣ч╜СчлЩф╕ня╝МхРСшвлцФ╗хЗ╗ч╜СчлЩхПСщАБш╖ичлЩшп╖ц▒ВуАВхИйчФичФицИ╖хЬишвлцФ╗хЗ╗ч╜СчлЩх╖▓ч╗ПшО╖хПЦчЪДц│ихЖМхЗншпБя╝Мч╗Хш┐ЗхРОхП░чЪДчФицИ╖щкМшпБя╝Мш╛╛хИ░хЖТхЕЕчФицИ╖хп╣швлцФ╗хЗ╗чЪДч╜СчлЩцЙзшбМцЯРф║ЫцУНф╜ЬчЪДчЫочЪДуАВ</p> <h2 id="csrfчЪДхОЯчРЖ"><a href="#csrfчЪДхОЯчРЖ" class="header-anchor">#</a> CSRFчЪДхОЯчРЖ</h2> <p><img src="https://gitee.com/yelishu/note/raw/master/noteImgs_2/202311121116367.jpg" alt="цЬкхС╜хРНцЦЗф╗╢.jpg"></p> <p>ф╗Оф╕КхЫ╛хПпф╗ечЬЛхЗ║я╝МшжБхоМцИРф╕АцмбCSRFцФ╗хЗ╗я╝М<span style="color:#2981bb;">хПЧхо│шАЕх┐Ещб╗ф╛ЭцмбхоМцИРф╕дф╕кцнещкдя╝Ъ</span></p> <ol><li><span style="color:#2981bb;">чЩ╗х╜ХхПЧф┐бф╗╗ч╜СчлЩAя╝Мх╣╢хЬицЬмхЬ░чФЯцИРCookie</span></li> <li><span style="color:#2981bb;">хЬиф╕НчЩ╗хЗ║AчЪДцГЕхЖ╡ф╕Ля╝Мшо┐щЧохН▒щЩйч╜СчлЩB</span></li></ol> <h2 id="х╕╕шзБчЪДcsrfцФ╗хЗ╗ч▒╗хЮЛ"><a href="#х╕╕шзБчЪДcsrfцФ╗хЗ╗ч▒╗хЮЛ" class="header-anchor">#</a> х╕╕шзБчЪДCSRFцФ╗хЗ╗ч▒╗хЮЛ</h2> <h3 id="getч▒╗хЮЛчЪДcsrf"><a href="#getч▒╗хЮЛчЪДcsrf" class="header-anchor">#</a> GETч▒╗хЮЛчЪДCSRF</h3> <p>GETч▒╗хЮЛчЪДCSRFхИйчФищЭЮх╕╕чоАхНХя╝МхПкщЬАшжБф╕Аф╕кHTTPшп╖ц▒Вя╝Мф╕АшИмф╝Ъш┐Щца╖хИйчФия╝Ъ</p> <div class="language-html extra-class"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://bank.example/withdraw?amount=10000&amp;for=hacker<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>хЬихПЧхо│шАЕшо┐щЧохРлцЬЙш┐Щф╕кimgчЪДщб╡щЭвхРОя╝Мц╡ПшзИхЩиф╝ЪшЗкхКихРС <code>http://bank.example/withdraw?amount=10000&amp;for=hacker</code> хПСхЗ║ф╕Аф╕кHTTPшп╖ц▒ВуАВ<code>bank.example</code> х░▒ф╝ЪцФ╢хИ░хМЕхРлхПЧхо│шАЕчЩ╗х╜Хф┐бцБпчЪДф╕Ацмбш╖ихЯЯшп╖ц▒ВуАВ</p> <h3 id="postч▒╗хЮЛчЪДcsrf"><a href="#postч▒╗хЮЛчЪДcsrf" class="header-anchor">#</a> POSTч▒╗хЮЛчЪДCSRF</h3> <p>ш┐ЩчзНч▒╗хЮЛчЪДCSRFхИйчФиш╡╖цЭещАЪх╕╕ф╜┐чФичЪДцШпф╕Аф╕кшЗкхКицПРф║дчЪДшбихНХя╝МхжВя╝Ъ</p> <div class="language-html extra-class"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://bank.example/withdraw<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>POST</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>account<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xiaoming<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>amount<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>for<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hacker<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"> document<span class="token punctuation">.</span>forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>шо┐щЧошпещб╡щЭвхРОя╝МшбихНХф╝ЪшЗкхКицПРф║дя╝МчЫ╕х╜Уф║ОцибцЛЯчФицИ╖хоМцИРф║Жф╕АцмбPOSTцУНф╜ЬуАВ</p> <p>POSTч▒╗хЮЛчЪДцФ╗хЗ╗щАЪх╕╕цпФGETшжБц▒ВцЫ┤ф╕еца╝ф╕Аф║Ыя╝Мф╜Жф╗Нх╣╢ф╕НхдНцЭВуАВф╗╗ф╜Хф╕кф║║ч╜СчлЩуАБхНЪховя╝Мшвлщ╗Сховф╕Кф╝ащб╡щЭвчЪДч╜СчлЩщГ╜цЬЙхПпшГ╜цШпхПСш╡╖цФ╗хЗ╗чЪДцЭец║Ря╝М<strong>хРОчлпцОехПгф╕НшГ╜х░ЖхоЙхЕихпДцЙШхЬиф╗ЕхЕБшо╕POSTф╕КщЭв</strong></p> <h3 id="щУ╛цОеч▒╗хЮЛчЪДcsrf"><a href="#щУ╛цОеч▒╗хЮЛчЪДcsrf" class="header-anchor">#</a> щУ╛цОеч▒╗хЮЛчЪДCSRF</h3> <p>щУ╛цОеч▒╗хЮЛчЪДCSRFх╣╢ф╕Нх╕╕шзБя╝МцпФш╡╖хЕ╢ф╗Цф╕дчзНчФицИ╖цЙУх╝Ащб╡щЭвх░▒ф╕нцЛЫчЪДцГЕхЖ╡я╝Мш┐ЩчзНщЬАшжБчФицИ╖чВ╣хЗ╗щУ╛цОецЙНф╝ЪшзжхПСуАВш┐ЩчзНч▒╗хЮЛщАЪх╕╕цШпхЬишо║хЭЫф╕нхПСх╕ГчЪДхЫ╛чЙЗф╕нх╡МхЕецБ╢цДПщУ╛цОея╝МцИЦшАЕф╗ех╣┐хСКчЪДх╜вх╝Пшп▒хп╝чФицИ╖ф╕нцЛЫя╝МцФ╗хЗ╗шАЕщАЪх╕╕ф╝Ъф╗ецпФш╛Гхд╕х╝ачЪДшпНшпншп▒щкЧчФицИ╖чВ╣хЗ╗я╝Мф╛ЛхжВя╝Ъ</p> <div class="language-html extra-class"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://test.com/csrf/withdraw.php?amount=1000&amp;for=hacker<span class="token punctuation">&quot;</span></span> <span class="token attr-name">taget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  щЗНчгЕц╢ИцБпя╝Бя╝Б
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h2 id="csrfчЪДчЙ╣чВ╣"><a href="#csrfчЪДчЙ╣чВ╣" class="header-anchor">#</a> CSRFчЪДчЙ╣чВ╣</h2> <ul><li>цФ╗хЗ╗ф╕АшИмхПСш╡╖хЬичммф╕ЙцЦ╣ч╜СчлЩя╝МшАМф╕НцШпшвлцФ╗хЗ╗чЪДч╜СчлЩуАВшвлцФ╗хЗ╗чЪДч╜СчлЩцЧац│ХщШ▓цнвцФ╗хЗ╗хПСчФЯуАВ</li> <li>цФ╗хЗ╗<strong>хИйчФихПЧхо│шАЕхЬишвлцФ╗хЗ╗ч╜СчлЩчЪДчЩ╗х╜ХхЗншпБя╝МхЖТхЕЕхПЧхо│шАЕцПРф║дцУНф╜Ь</strong>я╝ЫшАМф╕НцШпчЫ┤цОечкГхПЦцХ░цНоуАВ</li> <li>цХ┤ф╕кш┐ЗчиЛцФ╗хЗ╗шАЕф╕НшГ╜шО╖хПЦхИ░хПЧхо│шАЕчЪДчЩ╗х╜ХхЗншпБя╝Мф╗Еф╗ЕцШптАЬхЖТчФитАЭуАВ</li> <li>ш╖ичлЩшп╖ц▒ВхПпф╗ечФихРДчзНцЦ╣х╝Пя╝ЪхЫ╛чЙЗURLуАБш╢ЕщУ╛цОеуАБCORSуАБFormцПРф║дчнЙчнЙуАВщГихИЖшп╖ц▒ВцЦ╣х╝ПхПпф╗ечЫ┤цОех╡МхЕехЬичммф╕ЙцЦ╣шо║хЭЫуАБцЦЗчлаф╕ня╝МщЪ╛ф╗еш┐ЫшбМш┐╜ш╕куАВ</li></ul> <p>CSRFщАЪх╕╕цШпш╖ихЯЯчЪДя╝МхЫаф╕║хдЦхЯЯщАЪх╕╕цЫ┤хо╣цШУшвлцФ╗хЗ╗шАЕцОМцОзуАВф╜ЖцШпхжВцЮЬцЬмхЯЯф╕ЛцЬЙхо╣цШУшвлхИйчФичЪДхКЯшГ╜я╝МцпФхжВ<strong>хПпф╗ехПСхЫ╛чЙЗхТМщУ╛цОечЪДшо║хЭЫхТМшпДшо║хМ║я╝МцФ╗хЗ╗хПпф╗ехЬицЬмхЯЯф╕Лш┐ЫшбМя╝МшАМш┐ЩчзНцФ╗хЗ╗цЫ┤хКахН▒щЩйуАВ</strong></p> <h2 id="csrfхТМxssхМ║хИл"><a href="#csrfхТМxssхМ║хИл" class="header-anchor">#</a> CSRFхТМXSSхМ║хИл</h2> <ul><li><strong>щАЪх╕╕цЭешп┤CSRFцШпчФ▒XSSхоЮчО░чЪДя╝МCSRFцЧ╢х╕╕ф╣Яшвлчз░ф╕║XSRFя╝ИCSRFхоЮчО░чЪДцЦ╣х╝Пш┐ШхПпф╗ецШпчЫ┤цОещАЪш┐ЗхС╜ф╗дшбМхПСш╡╖шп╖ц▒ВчнЙя╝Й</strong></li> <li>цЬмш┤иф╕Кшо▓я╝МXSSцШпф╗гчаБц│ихЕещЧощвШя╝М<strong>CSRFцШпHTTPщЧощвШуАВ</strong> XSSцШпхЖЕхо╣ф╕Кц▓бцЬЙш┐Зц╗дхп╝шЗ┤ц╡ПшзИхЩих░ЖцФ╗хЗ╗шАЕчЪДш╛УхЕех╜УцИРф╗гчаБцЙзшбМуАВ<strong>CSRF хИЩцШпхЫаф╕║ц╡ПшзИхЩихЬихПСщАБHTTPшп╖ц▒ВцЧ╢шЗкхКих╕жф╕КCookieя╝МшАМф╕АшИмч╜СчлЩчЪДsessionщГ╜хнШхЬиCookieщЗМщЭвя╝ИTokenщкМшпБхПпф╗ещБ┐хЕНя╝Й</strong></li></ul> <h2 id="щШ▓х╛б"><a href="#щШ▓х╛б" class="header-anchor">#</a> щШ▓х╛б</h2> <p>чоАхНХцЭешп┤я╝Ъ</p> <ul><li>щкМшпБчаБя╝Ъх╝║хИ╢чФицИ╖х┐Ещб╗ф╕Ох║ФчФиш┐ЫшбМф║дф║Тя╝МцЙНшГ╜хоМцИРцЬАч╗Ишп╖ц▒Вя╝Мш┐ЩчзНцЦ╣х╝ПшГ╜х╛Ихе╜чЪДщБПхИ╢CSRFя╝Мф╜ЖцШпчФицИ╖ф╜УщкМцпФш╛Гх╖оуАВ</li> <li>Referer checkя╝Ъшп╖ц▒ВцЭец║РщЩРхИ╢я╝Мш┐ЩчзНцЦ╣ц│ХцИРцЬмцЬАф╜Оя╝Мф╜ЖцШпх╣╢ф╕НшГ╜ф┐ЭшпБ100%цЬЙцХИя╝МхЫаф╕║цЬНхКбхЩих╣╢ф╕НцШпф╗Аф╣ИцЧ╢хАЩщГ╜шГ╜хПЦхИ░Refererя╝МшАМф╕Фф╜ОчЙИцЬмчЪДц╡ПшзИхЩихнШхЬиф╝кщАаRefererчЪДщгОщЩйуАВ</li> <li>Tokenя╝Ъ<strong>TokenщкМшпБчЪДCSRFщШ▓х╛бцЬ║хИ╢цШпхЕмшодцЬАхРИщАВчЪДцЦ╣цбИуАВф╜ЖшЛеч╜СчлЩхРМцЧ╢хнШхЬиXSSц╝Пц┤ЮчЪДцЧ╢хАЩя╝Мш┐Щф╕кцЦ╣ц│Хф╣ЯцШпчй║ш░ИуАВ</strong></li></ul> <p>шпжч╗ЖхжВф╕Ля╝Ъ
ф╕КщЭвцИСф╗мцПРхИ░CSRFцЬЙф╕дф╕кчЙ╣чВ╣я╝Ъ</p> <ul><li>CSRFщАЪх╕╕хПСчФЯхЬичммф╕ЙцЦ╣хЯЯхРН</li> <li>CSRFцФ╗хЗ╗шАЕф╕НшГ╜шО╖хПЦхИ░CookieчнЙф┐бцБпя╝МхПкшГ╜ф╜┐чФи
щТИхп╣ш┐Щф╕дчВ╣я╝МхПпф╗еф╕УщЧихИ╢хоЪщШ▓цКдчнЦчХея╝МхжВф╕Ля╝Ъ</li> <li>щШ╗цнвф╕НцШОхдЦхЯЯчЪДшо┐щЧо
<ul><li>хРМц║РцгАц╡Л</li> <li>Samesite Cookie</li></ul></li> <li>цПРф║дцЧ╢шжБц▒ВщЩДх╕жцЬмхЯЯцЙНшГ╜шО╖хПЦф┐бцБп
<ul><li>CSRF Token</li> <li>хПМщЗНCookieщкМшпБ</li></ul></li></ul> <h3 id="хРМц║РцгАц╡Л"><a href="#хРМц║РцгАц╡Л" class="header-anchor">#</a> хРМц║РцгАц╡Л</h3> <p>хЫаф╕║CSRFхдзхдЪцЭешЗкчммф╕ЙцЦ╣ч╜СчлЩя╝МцЙАф╗ехПпф╗ечЫ┤цОечжБцнвхдЦхЯЯя╝ИцИЦшАЕф╕НхПЧф┐бф╗╗чЪДхЯЯхРНя╝Йхп╣цИСф╗мхПСш╡╖шп╖ц▒ВуАВ
хЬиHTTPхНПшооф╕ня╝МцпПф╕кх╝Вцнешп╖ц▒ВщГ╜ф╝ЪцР║х╕жф╕дф╕кHeaderя╝МчФиф║ОцаЗшо░цЭец║РхЯЯхРНя╝Ъ</p> <ul><li>Origin Header</li> <li>Referer Header
ш┐Щф╕дф╕кHeaderхЬиц╡ПшзИхЩихПСш╡╖шп╖ц▒ВцЧ╢я╝МхдзхдЪцХ░ф╝ЪшЗкхКих╕жф╕Кя╝Мх╣╢ф╕Фф╕НшГ╜чФ▒хЙНчлпшЗкхоЪф╣ЙхЖЕхо╣уАВцЬНхКбхЩихПпф╗ещАЪш┐ЗшзгцЮРш┐Щф╕дф╕кHeaderф╕нчЪДхЯЯхРНя╝МчбохоЪшп╖ц▒ВчЪДцЭец║РхЯЯуАВ</li></ul> <h4 id="ф╜┐чФиorigin-headerчбохоЪцЭец║РхЯЯхРН"><a href="#ф╜┐чФиorigin-headerчбохоЪцЭец║РхЯЯхРН" class="header-anchor">#</a> ф╜┐чФиOrigin HeaderчбохоЪцЭец║РхЯЯхРН</h4> <p>хЬищГихИЖф╕ОCSRFцЬЙхЕ│чЪДшп╖ц▒Вф╕ня╝Мшп╖ц▒ВчЪДHeaderф╕нф╝ЪцР║х╕жOriginхнЧцо╡уАВхнЧцо╡хЖЕхМЕхРлшп╖ц▒ВчЪДхЯЯхРНя╝Иф╕НхМЕхРлpathхПКqueryя╝ЙуАВ</p> <p>хжВцЮЬOriginхнШхЬия╝МщВгф╣ИчЫ┤цОеф╜┐чФиOriginф╕нчЪДхнЧцо╡чбошодцЭец║РхЯЯхРНх░▒хПпф╗еуАВ</p> <p>ф╜ЖцШпOriginхЬиф╗еф╕Лф╕дчзНцГЕхЖ╡ф╕Лх╣╢ф╕НхнШхЬия╝Ъ</p> <ul><li><strong>IE11хРМц║РчнЦчХея╝Ъ</strong> IE11ф╕Нф╝ЪхЬиш╖ичлЩCORSшп╖ц▒Вф╕Кц╖╗хКаOriginцаЗхд┤я╝МRefererхд┤х░Жф╗НчД╢цШпхФпф╕АчЪДцаЗшпЖя╝МуАВцЬАца╣цЬмхОЯхЫацШпхЫаф╕║IE 11хп╣хРМц║РчЪДхоЪф╣ЙхТМхЕ╢ф╗Цц╡ПшзИхЩицЬЙф╕НхРМя╝МцЬЙф╕дф╕кф╕╗шжБчЪДхМ║хИля╝МхПпф╗ехПВшАГ<a href="https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy" target="_blank" rel="noopener noreferrer">MDN Same-origin_policy#IE_Exceptions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><strong>302щЗНхоЪхРСя╝Ъ</strong> хЬи302щЗНхоЪхРСф╣ЛхРОOriginф╕НхМЕхРлхЬищЗНхоЪхРСчЪДшп╖ц▒Вф╕ня╝МхЫаф╕║OriginхПпшГ╜ф╝Ъшвлшодф╕║цШпхЕ╢ф╗ЦцЭец║РчЪДцХПцДЯф┐бцБпуАВхп╣ф║О302щЗНхоЪхРСчЪДцГЕхЖ╡цЭешп┤щГ╜цШпхоЪхРСхИ░цЦ░чЪДцЬНхКбхЩиф╕КчЪДURLя╝МхЫацндц╡ПшзИхЩиф╕НцГ│х░ЖOriginц│Дц╝ПхИ░цЦ░чЪДцЬНхКбхЩиф╕КуАВ</li></ul> <h4 id="ф╜┐чФиreferer-headerчбохоЪцЭец║РхЯЯхРН"><a href="#ф╜┐чФиreferer-headerчбохоЪцЭец║РхЯЯхРН" class="header-anchor">#</a> ф╜┐чФиReferer HeaderчбохоЪцЭец║РхЯЯхРН</h4> <p>ца╣цНоHTTPхНПшооя╝МхЬиHTTPхд┤ф╕нцЬЙф╕Аф╕кхнЧцо╡хПлRefererя╝Мшо░х╜Хф║ЖшпеHTTPшп╖ц▒ВчЪДцЭец║РхЬ░хЭАуАВхп╣ф║ОAjaxшп╖ц▒Вя╝МхЫ╛чЙЗхТМscriptчнЙш╡Дц║Ршп╖ц▒Вя╝МRefererф╕║хПСш╡╖шп╖ц▒ВчЪДщб╡щЭвхЬ░хЭАуАВхп╣ф║Ощб╡щЭвш╖│ш╜мя╝МRefererф╕║цЙУх╝Ащб╡щЭвхОЖхП▓шо░х╜ХчЪДхЙНф╕Аф╕кщб╡щЭвхЬ░хЭАуАВхЫацндцИСф╗мф╜┐чФиRefererф╕нщУ╛цОечЪДOriginщГихИЖхПпф╗ех╛ЧчЯешп╖ц▒ВчЪДцЭец║РхЯЯхРНуАВ</p> <p>чФ▒ф║ОRefererчЪДхА╝цШпчФ▒ц╡ПшзИхЩицПРф╛ЫчЪДя╝МшЩ╜чД╢HTTPхНПшооф╕КцЬЙцШОчбочЪДшжБц▒Вя╝Мф╜ЖцШпцпПф╕кц╡ПшзИхЩихп╣ф║ОRefererчЪДхЕ╖ф╜УхоЮчО░хПпшГ╜цЬЙх╖охИля╝Мх╣╢ф╕НшГ╜ф┐ЭшпБц╡ПшзИхЩишЗкш║лц▓бцЬЙхоЙхЕиц╝Пц┤ЮуАВф╜┐чФищкМшпБRefererхА╝чЪДцЦ╣ц│Хя╝Мх░▒цШпцККхоЙхЕицАзщГ╜ф╛Эш╡Цф║Оц╡ПшзИхЩицЭеф┐ЭщЪЬя╝Мф╗ОчРЖшо║ф╕Кшо▓я╝Мш┐Щх╣╢ф╕НцШпх╛ИхоЙхЕиуАВщГихИЖцГЕхЖ╡ф╕ЛцФ╗хЗ╗шАЕхПпф╗ещЪРшЧПчФЪшЗ│ф┐оцФ╣шЗкх╖▒шп╖ц▒ВчЪДRefererуАВ</p> <p>хЬиф╗еф╕ЛцГЕхЖ╡ф╕ЛRefererц▓бцЬЙцИЦшАЕф╕НхПпф┐бя╝Ъ</p> <ul><li>IE6уАБ7ф╕Лф╜┐чФи <code>window.location.href=url</code> ш┐ЫшбМщб╡щЭвш╖│ш╜мф╝Ъф╕вхд▒Referer</li> <li>IE6уАБ7ф╕Лф╜┐чФи <code>window.open</code> ф╣Яф╝Ъф╕вхд▒Referer</li> <li>HTTPSщб╡щЭвш╖│ш╜мхИ░HTTPщб╡щЭвя╝МцЙАцЬЙц╡ПшзИхЩиRefererщГ╜ф╕вхд▒</li> <li>чВ╣хЗ╗Flashф╕КхИ░ш╛╛хПжф╕Аф╕кч╜СчлЩчЪДцЧ╢хАЩя╝МRefererчЪДцГЕхЖ╡цпФш╛ГцЭВф╣▒я╝Мф╕НхПпф┐б</li></ul> <h4 id="цЧац│ХчбошодцЭец║РхЯЯхРНцГЕхЖ╡"><a href="#цЧац│ХчбошодцЭец║РхЯЯхРНцГЕхЖ╡" class="header-anchor">#</a> цЧац│ХчбошодцЭец║РхЯЯхРНцГЕхЖ╡</h4> <p>хжВцЮЬOriginхТМRefererщГ╜ф╕НхнШхЬия╝Мх╗║шоочЫ┤цОеш┐ЫшбМщШ╗цнвя╝МчЙ╣хИлцШпхжВцЮЬц▓бцЬЙф╜┐чФищЪПцЬ║CSRF Tokenф╜Ьф╕║чммф║МцмбцгАцЯеуАВ</p> <h4 id="хжВф╜ХщШ╗цнвхдЦхЯЯшп╖ц▒В"><a href="#хжВф╜ХщШ╗цнвхдЦхЯЯшп╖ц▒В" class="header-anchor">#</a> хжВф╜ХщШ╗цнвхдЦхЯЯшп╖ц▒В</h4> <p>щАЪш┐ЗHeaderщкМшпБхПпф╗ечЫ┤хИ░хПСш╡╖шп╖ц▒ВчЪДцЭец║РхЯЯхРНя╝Мф╜Жх╣╢ф╕НцШпх╜УцЭец║РхЯЯхРНф╕НхПпф┐бцЧ╢чЫ┤цОещШ╗цнвцОЙш┐Щф║Ышп╖ц▒Вх░▒шГ╜щШ▓цнвCSRFцФ╗хЗ╗уАВ</p> <p>х╜Уф╕Аф╕кшп╖ц▒ВцШпщб╡щЭвшп╖ц▒Вя╝ИцпФхжВч╜СчлЩф╕╗щб╡я╝Йя╝МшАМцЭец║РцШпцРЬч┤вх╝ХцУОчЪДщУ╛цОея╝Иф╛ЛхжВчЩ╛х║жчЪДцРЬч┤вч╗УцЮЬя╝Йя╝Мф╣Яф╝Ъшвлх╜УцИРчЦСф╝╝CSRFцФ╗хЗ╗уАВцЙАф╗ехЬихИдцЦнчЪДцЧ╢хАЩшжБш┐Зц╗дцОЙщб╡щЭвшп╖ц▒ВцГЕхЖ╡я╝МщАЪх╕╕HeaderчмжхРИф╗еф╕ЛцГЕхЖ╡я╝Ъ</p> <div class="language-json extra-class"><pre class="language-json"><code>Accept<span class="token operator">:</span> text/html
Method<span class="token operator">:</span> GET
</code></pre></div><p>ф╜ЖчЫ╕х║ФчЪДя╝Мщб╡щЭвшп╖ц▒Вх░▒цЪ┤щЬ▓хЬиф║ЖCSRFчЪДцФ╗хЗ╗шМГхЫ┤ф╣Лф╕нуАВхжВцЮЬч╜СчлЩф╕ня╝МхЬищб╡щЭвчЪДGETшп╖ц▒Вф╕нхп╣х╜УхЙНчФицИ╖хБЪф║Жф╗Аф╣ИцУНф╜ЬчЪДшпЭя╝МщШ▓шМГх░▒хд▒цХИф║ЖуАВ</p> <p>ф╛ЛхжВя╝Мф╕ЛщЭвчЪДщб╡щЭвшп╖ц▒Вя╝Ъ</p> <div class="language- extra-class"><pre class="language-text"><code>GET https://example.com/addComment?comment=XXX&amp;dest=orderId
</code></pre></div><p>CSRFхдзхдЪцХ░цГЕхЖ╡ф╕ЛцЭешЗкчммф╕ЙцЦ╣хЯЯхРНя╝Мф╜Жх╣╢ф╕НшГ╜цОТщЩдцЬмхЯЯхПСш╡╖уАВхжВцЮЬцФ╗хЗ╗шАЕцЬЙцЭГщЩРхЬицЬмхЯЯхПСх╕ГшпДшо║я╝ИхРлщУ╛цОеуАБхЫ╛чЙЗчнЙя╝Мч╗Ячз░UGCя╝Йя╝МщВгф╣ИхоГхПпф╗ечЫ┤цОехЬицЬмхЯЯхПСш╡╖цФ╗хЗ╗я╝Мш┐ЩчзНцГЕхЖ╡ф╕ЛхРМц║РчнЦчХецЧац│Хш╛╛хИ░щШ▓цКдчЪДф╜ЬчФиуАВ</p> <h3 id="csrf-token"><a href="#csrf-token" class="header-anchor">#</a> CSRF Token</h3> <p>CSRFчЪДхПжф╕Аф╕кчЙ╣х╛БцШпя╝МцФ╗хЗ╗шАЕцЧац│ХчЫ┤цОечкГхПЦхИ░чФицИ╖чЪДф┐бцБпя╝ИCookieя╝МHeaderя╝Мч╜СчлЩхЖЕхо╣чнЙя╝Йя╝Мф╗Еф╗ЕцШпхЖТчФиCookieф╕нчЪДф┐бцБпуАВ</p> <p>шАМCSRFцФ╗хЗ╗ф╣ЛцЙАф╗ешГ╜хдЯцИРхКЯя╝МцШпхЫаф╕║цЬНхКбхЩицККцФ╗хЗ╗шАЕхПСщАБчЪДшп╖ц▒Вх╜Уф╜ЬчФицИ╖чЪДшп╖ц▒ВуАВхЫацндхПпф╗ешжБц▒ВцЙАцЬЙчФицИ╖шп╖ц▒ВщГ╜цР║х╕жф╕Аф╕кCSRFцФ╗хЗ╗шАЕцЧац│ХшО╖хПЦчЪДTokenуАВцЬНхКбхЩищАЪш┐ЗцабщкМшп╖ц▒ВцШпхРжцР║х╕жцнгчбочЪДTokenя╝МцЭехМ║хИЖцнгх╕╕шп╖ц▒ВхТМцФ╗хЗ╗я╝Мф╗ещШ▓шМГCSRFцФ╗хЗ╗уАВ</p> <p>TokenцШпф╕Аф╕кцпФш╛ГцЬЙцХИчЪДCSRFщШ▓цКдцЦ╣ц│Хя╝МхПкшжБщб╡щЭвц▓бцЬЙXSSц╝Пц┤Юц│ДщЬ▓Tokenя╝МщВгф╣ИцОехПгчЪДCSRFцФ╗хЗ╗х░▒цЧац│ХцИРхКЯуАВ</p> <p>ф╜ЖцШпцндцЦ╣ц│ХчЪДхоЮчО░цпФш╛ГхдНцЭВя╝МщЬАшжБч╗ЩцпПф╕Аф╕кщб╡щЭвщГ╜хЖЩхЕеTokenя╝ИхЙНчлпцЧац│Хф╜┐чФич║пщЭЩцАБщб╡щЭвя╝Йя╝МцпПф╕Аф╕кFormхПКAjaxшп╖ц▒ВщГ╜цР║х╕жш┐Щф╕кTokenя╝МхРОчлпхп╣цпПф╕Аф╕кцОехПгщГ╜ш┐ЫшбМцабщкМя╝Мх╣╢ф┐ЭшпБщб╡щЭвTokenхПКшп╖ц▒ВTokenф╕АшЗ┤уАВш┐Щх░▒ф╜┐х╛Чш┐Щф╕кщШ▓цКдчнЦчХеф╕НшГ╜хЬищАЪчФичЪДцЛжцИкф╕Кч╗Яф╕АцЛжцИкхдДчРЖя╝МшАМщЬАшжБцпПф╕Аф╕кщб╡щЭвхТМцОехПгщГ╜ц╖╗хКахп╣х║ФчЪДш╛УхЗ║хТМцабщкМуАВш┐ЩчзНцЦ╣ц│Хх╖еф╜ЬщЗПх╖ихдзя╝Мф╕ФцЬЙхПпшГ╜щБЧц╝ПуАВ</p> <h3 id="хПМщЗНcookieщкМшпБ"><a href="#хПМщЗНcookieщкМшпБ" class="header-anchor">#</a> хПМщЗНCookieщкМшпБ</h3> <p>хЬиф╝ЪшпЭф╕нхнШхВиCSRF TokenцпФш╛Гч╣БчРРя╝МшАМф╕Фф╕НшГ╜хЬищАЪчФичЪДцЛжцИкф╕КхдДчРЖцЙАцЬЙчЪДцОехПгуАВ
хПМщЗНCookieщкМшпБя╝МхИйчФиCSRFцФ╗хЗ╗ф╕НшГ╜шО╖хПЦхИ░чФицИ╖CookieчЪДчЙ╣чВ╣я╝МшжБц▒ВAjaxхТМшбихНХшп╖ц▒ВцР║х╕жф╕Аф╕кCookieф╕нчЪДхА╝уАВ</p> <p>хПМщЗНCookieц╡БчиЛя╝Ъ</p> <ul><li>хЬичФицИ╖шо┐щЧоч╜СчлЩщб╡щЭвцЧ╢я╝МхРСшп╖ц▒ВхЯЯхРНц│ихЕеф╕Аф╕кCookieя╝МхЖЕхо╣ф╕║щЪПцЬ║хнЧчмжф╕▓</li> <li>хЬихЙНчлпхРСхРОчлпхПСш╡╖шп╖ц▒ВцЧ╢я╝МхПЦхЗ║Cookieя╝Мх╣╢ц╖╗хКахИ░URLчЪДхПВцХ░ф╕н</li> <li>хРОчлпцОехПгщкМшпБCookieф╕нчЪДхнЧцо╡ф╕ОURLхПВцХ░ф╕нхнЧцо╡цШпхРжф╕АшЗ┤я╝Мф╕Нф╕АшЗ┤хИЩцЛТч╗Э</li></ul> <p><mark style="background:#FF5582A6;">ф╝ШчВ╣</mark></p> <ul><li>цЧащЬАф╜┐чФиSessionя╝МщАВчФищЭвцЫ┤х╣┐я╝МцШУф║ОхоЮцЦ╜</li> <li>TokenхнШхВиф╕ОховцИ╖члпф╕ня╝Мф╕Нф╝Ъч╗ЩцЬНхКбхЩих╕жцЭехОЛхКЫ</li> <li>чЫ╕хп╣ф║ОCSRF Tokenя╝МхоЮцЦ╜цИРцЬмцЫ┤ф╜Оя╝МхПпф╗ехЬихЙНхРОчлпч╗Яф╕АцЛжцИкцабщкМя╝МшАМф╕НщЬАшжБф╕Аф╕кф╕Аф╕кцОехПгхТМщб╡щЭвц╖╗хКауАВ</li></ul> <p><mark style="background:#ABF7F7A6;">ч╝║чВ╣</mark></p> <ul><li>Cookieф╕нц╖╗хКаф║ЖщвЭхдЦчЪДхнЧцо╡</li> <li>хжВцЮЬцЬЙхЕ╢ф╗Цц╝Пц┤Юя╝Иф╛ЛхжВXSSя╝Йя╝МцФ╗хЗ╗шАЕхПпф╗ец│ихЕеCookieя╝МшпещШ▓х╛бцЦ╣х╝Пх░▒ф╝Ъхд▒цХИ</li> <li>щЪ╛ф╗ехБЪхИ░хнРхЯЯхРНчЪДщЪФчж╗</li> <li>ф╕║ф║Жчбоф┐ЭCookieф╝аш╛УхоЙхЕия╝МщЗЗчФиш┐ЩчзНщШ▓х╛бцЦ╣х╝ПчЪДцЬАхе╜чбоф┐ЭчФицХ┤члЩHTTPSчЪДцЦ╣х╝Пя╝МхжВцЮЬц▓бHTTPSя╝Мф╜┐чФиш┐ЩчзНцЦ╣х╝Пф╣Яф╝ЪцЬЙщгОщЩй</li></ul></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/blogs/blogs/15.html#csrfчЪДхОЯчРЖ" class="sidebar-link reco-side-csrfчЪДхОЯчРЖ" data-v-b57cc07c>CSRFчЪДхОЯчРЖ</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/blogs/15.html#х╕╕шзБчЪДcsrfцФ╗хЗ╗ч▒╗хЮЛ" class="sidebar-link reco-side-х╕╕шзБчЪДcsrfцФ╗хЗ╗ч▒╗хЮЛ" data-v-b57cc07c>х╕╕шзБчЪДCSRFцФ╗хЗ╗ч▒╗хЮЛ</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/15.html#getч▒╗хЮЛчЪДcsrf" class="sidebar-link reco-side-getч▒╗хЮЛчЪДcsrf" data-v-b57cc07c>GETч▒╗хЮЛчЪДCSRF</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/15.html#postч▒╗хЮЛчЪДcsrf" class="sidebar-link reco-side-postч▒╗хЮЛчЪДcsrf" data-v-b57cc07c>POSTч▒╗хЮЛчЪДCSRF</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/15.html#щУ╛цОеч▒╗хЮЛчЪДcsrf" class="sidebar-link reco-side-щУ╛цОеч▒╗хЮЛчЪДcsrf" data-v-b57cc07c>щУ╛цОеч▒╗хЮЛчЪДCSRF</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/blogs/15.html#csrfчЪДчЙ╣чВ╣" class="sidebar-link reco-side-csrfчЪДчЙ╣чВ╣" data-v-b57cc07c>CSRFчЪДчЙ╣чВ╣</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/blogs/15.html#csrfхТМxssхМ║хИл" class="sidebar-link reco-side-csrfхТМxssхМ║хИл" data-v-b57cc07c>CSRFхТМXSSхМ║хИл</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/blogs/15.html#щШ▓х╛б" class="sidebar-link reco-side-щШ▓х╛б" data-v-b57cc07c>щШ▓х╛б</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/15.html#хРМц║РцгАц╡Л" class="sidebar-link reco-side-хРМц║РцгАц╡Л" data-v-b57cc07c>хРМц║РцгАц╡Л</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/15.html#csrf-token" class="sidebar-link reco-side-csrf-token" data-v-b57cc07c>CSRF Token</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/15.html#хПМщЗНcookieщкМшпБ" class="sidebar-link reco-side-хПМщЗНcookieщкМшпБ" data-v-b57cc07c>хПМщЗНCookieщкМшпБ</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:-1;" data-v-248d85d6></canvas></div><canvas id="vuepress-canvas-cursor"></canvas><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="https://yelishu.gitee.io/blogs/bg.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:20px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="https://p2.music.126.net/ZvYHj8W72RwrnOJiOGaL9g==/109951163074555333.jpg?param=130y130" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(https://p2.music.126.net/ZvYHj8W72RwrnOJiOGaL9g==/109951163074555333.jpg?param=130y130);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          цТнцФ╛хд▒ш┤е
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>тЭА</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>nevva</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div></div></div>
    <script src="/blogs/assets/js/app.b10d3b76.js" defer></script><script src="/blogs/assets/js/7.51cf2bb3.js" defer></script><script src="/blogs/assets/js/2.90913472.js" defer></script><script src="/blogs/assets/js/1.c35ebe2c.js" defer></script><script src="/blogs/assets/js/45.be0bd724.js" defer></script>
  </body>
</html>
