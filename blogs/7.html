<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ajax | 黎子🌰码境</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="shortcut icon" href="favicon.ico">
    <meta name="description" content="在代码的迷宫中穿梭，书写着改变生活的数字篇章">
    
    <link rel="preload" href="/blogs/assets/css/0.styles.d9a4f19e.css" as="style"><link rel="preload" href="/blogs/assets/js/app.b10d3b76.js" as="script"><link rel="preload" href="/blogs/assets/js/7.51cf2bb3.js" as="script"><link rel="preload" href="/blogs/assets/js/2.90913472.js" as="script"><link rel="preload" href="/blogs/assets/js/1.c35ebe2c.js" as="script"><link rel="preload" href="/blogs/assets/js/68.1f08c812.js" as="script"><link rel="prefetch" href="/blogs/assets/js/10.51f51c0e.js"><link rel="prefetch" href="/blogs/assets/js/11.f1c4e2ce.js"><link rel="prefetch" href="/blogs/assets/js/14.90b34deb.js"><link rel="prefetch" href="/blogs/assets/js/15.cd05d3f7.js"><link rel="prefetch" href="/blogs/assets/js/16.0ca60d78.js"><link rel="prefetch" href="/blogs/assets/js/17.26773bd0.js"><link rel="prefetch" href="/blogs/assets/js/18.21df733a.js"><link rel="prefetch" href="/blogs/assets/js/19.eed3c532.js"><link rel="prefetch" href="/blogs/assets/js/20.4c76e8be.js"><link rel="prefetch" href="/blogs/assets/js/21.f18babb4.js"><link rel="prefetch" href="/blogs/assets/js/22.249f648e.js"><link rel="prefetch" href="/blogs/assets/js/23.cb41f22a.js"><link rel="prefetch" href="/blogs/assets/js/24.c95ba296.js"><link rel="prefetch" href="/blogs/assets/js/25.4a450405.js"><link rel="prefetch" href="/blogs/assets/js/26.b1851237.js"><link rel="prefetch" href="/blogs/assets/js/27.ab146b7f.js"><link rel="prefetch" href="/blogs/assets/js/28.83af5ecf.js"><link rel="prefetch" href="/blogs/assets/js/29.17c1b3c2.js"><link rel="prefetch" href="/blogs/assets/js/3.8ff04919.js"><link rel="prefetch" href="/blogs/assets/js/30.5a702d15.js"><link rel="prefetch" href="/blogs/assets/js/31.9b363f9c.js"><link rel="prefetch" href="/blogs/assets/js/32.df071e6e.js"><link rel="prefetch" href="/blogs/assets/js/33.83f13db0.js"><link rel="prefetch" href="/blogs/assets/js/34.a5e21847.js"><link rel="prefetch" href="/blogs/assets/js/35.caa9411a.js"><link rel="prefetch" href="/blogs/assets/js/36.0997f85f.js"><link rel="prefetch" href="/blogs/assets/js/37.41a69cda.js"><link rel="prefetch" href="/blogs/assets/js/38.11c97fc9.js"><link rel="prefetch" href="/blogs/assets/js/39.c7a91778.js"><link rel="prefetch" href="/blogs/assets/js/4.7ab60d34.js"><link rel="prefetch" href="/blogs/assets/js/40.788bd3bb.js"><link rel="prefetch" href="/blogs/assets/js/41.bfd620d2.js"><link rel="prefetch" href="/blogs/assets/js/42.a93d1dad.js"><link rel="prefetch" href="/blogs/assets/js/43.36e369c4.js"><link rel="prefetch" href="/blogs/assets/js/44.a8c7c1be.js"><link rel="prefetch" href="/blogs/assets/js/45.be0bd724.js"><link rel="prefetch" href="/blogs/assets/js/46.0eead14d.js"><link rel="prefetch" href="/blogs/assets/js/47.9c0b8ec3.js"><link rel="prefetch" href="/blogs/assets/js/48.fedde897.js"><link rel="prefetch" href="/blogs/assets/js/49.658232de.js"><link rel="prefetch" href="/blogs/assets/js/5.07521870.js"><link rel="prefetch" href="/blogs/assets/js/50.e75baace.js"><link rel="prefetch" href="/blogs/assets/js/51.39f09a2a.js"><link rel="prefetch" href="/blogs/assets/js/52.86d8775b.js"><link rel="prefetch" href="/blogs/assets/js/53.2bcea0af.js"><link rel="prefetch" href="/blogs/assets/js/54.80cfc079.js"><link rel="prefetch" href="/blogs/assets/js/55.575fad98.js"><link rel="prefetch" href="/blogs/assets/js/56.a9ac12aa.js"><link rel="prefetch" href="/blogs/assets/js/57.bc25fe73.js"><link rel="prefetch" href="/blogs/assets/js/58.a1f3dfda.js"><link rel="prefetch" href="/blogs/assets/js/59.acfc0f60.js"><link rel="prefetch" href="/blogs/assets/js/6.7070ea7f.js"><link rel="prefetch" href="/blogs/assets/js/60.cfc92fb7.js"><link rel="prefetch" href="/blogs/assets/js/61.566a8f66.js"><link rel="prefetch" href="/blogs/assets/js/62.1c3ab2d6.js"><link rel="prefetch" href="/blogs/assets/js/63.f1df4d25.js"><link rel="prefetch" href="/blogs/assets/js/64.349b7d3b.js"><link rel="prefetch" href="/blogs/assets/js/65.3e277b74.js"><link rel="prefetch" href="/blogs/assets/js/66.f985ae29.js"><link rel="prefetch" href="/blogs/assets/js/67.fecbf0ba.js"><link rel="prefetch" href="/blogs/assets/js/69.55f47746.js"><link rel="prefetch" href="/blogs/assets/js/70.66e490da.js"><link rel="prefetch" href="/blogs/assets/js/8.8dfb1e90.js"><link rel="prefetch" href="/blogs/assets/js/9.18b271e2.js"><link rel="prefetch" href="/blogs/assets/js/vendors~docsearch.814a0df0.js">
    <link rel="stylesheet" href="/blogs/assets/css/0.styles.d9a4f19e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>黎子🌰码境</h3> <p class="description" data-v-59e6cb88>在代码的迷宫中穿梭，书写着改变生活的数字篇章</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>黎子</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/" class="home-link router-link-active"><img src="/blogs/avatar.jpg" alt="黎子🌰码境" class="logo"> <span class="site-name">黎子🌰码境</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/计算机网络/" class="nav-link"><i class="undefined"></i>
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/学校课程/" class="nav-link"><i class="undefined"></i>
  学校课程
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/面试/" class="nav-link"><i class="undefined"></i>
  面试
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/后端/" class="nav-link"><i class="undefined"></i>
  后端
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      黎子🌰Code
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/3206591176245848" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/YLiShu" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/blogs/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/blogs/avatar.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    黎子
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>32</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>18</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/blogs/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/计算机网络/" class="nav-link"><i class="undefined"></i>
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/学校课程/" class="nav-link"><i class="undefined"></i>
  学校课程
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/面试/" class="nav-link"><i class="undefined"></i>
  面试
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/后端/" class="nav-link"><i class="undefined"></i>
  后端
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      黎子🌰Code
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/3206591176245848" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/YLiShu" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/blogs/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Ajax</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>黎子</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Ajax</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>黎子</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2023/11/13</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>Ajax</span><span class="tag-item" data-v-8a445198>JavaScript</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="ajax"><a href="#ajax" class="header-anchor">#</a> Ajax</h1> <h2 id="绪-jquery中的ajax"><a href="#绪-jquery中的ajax" class="header-anchor">#</a> 绪  jQuery中的Ajax</h2> <h3 id="_1-了解-jquery-中的-ajax"><a href="#_1-了解-jquery-中的-ajax" class="header-anchor">#</a> 1. 了解 jQuery 中的 Ajax</h3> <ul><li>浏览器中提供的XMLHttpRequest用法比较复杂，所以 jQuery 对 XMLHttpRequest 进行了封装，提供了一系列 Ajax 相关的函数，极大地降低了 Ajax 的使用难道</li> <li>jQuery 中发起 Ajax 请求最常用的三种方法：</li> <li><ul><li><strong>$.get()</strong></li> <li><strong>$.post()</strong></li> <li><strong>$.ajax()</strong></li></ul></li></ul> <h3 id="_2-get-函数的语法"><a href="#_2-get-函数的语法" class="header-anchor">#</a> 2. $.get() 函数的语法</h3> <ul><li><p>jQuery 中 $.get() 函数的功能单一，专门用来发起 get 请求，从而将服务器上的资源请求到客户端来使用</p></li> <li><p><strong>$.get() 函数的语法如下:</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>$<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>其中，三个参数各自代表的含义如下：</p> <table><thead><tr><th style="text-align:center;">参数名</th> <th style="text-align:center;">参数类型</th> <th style="text-align:center;"><strong>是否必选</strong></th> <th style="text-align:center;"><strong>说明</strong></th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>url</strong></td> <td style="text-align:center;"><strong>string</strong></td> <td style="text-align:center;"><strong>是</strong></td> <td style="text-align:center;"><strong>要请求的资源地址</strong></td></tr> <tr><td style="text-align:center;"><strong>data</strong></td> <td style="text-align:center;"><strong>object</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;"><strong>请求资源期间要携带的参数</strong></td></tr> <tr><td style="text-align:center;"><strong>callback</strong></td> <td style="text-align:center;"><strong>function</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;"><strong>请求成功时的回调函数</strong></td></tr></tbody></table></li></ul> <h3 id="_3-post-函数的语法"><a href="#_3-post-函数的语法" class="header-anchor">#</a> 3.  $.post() 函数的语法</h3> <ul><li><p>jQuery 中 $.post() 函数的功能单一，专门用来发起 post 请求，从而向服务器提交数据</p></li> <li><p><strong>$.post() 函数的语法如下：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>$<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>其中，三个参数各自代表的含义如下：</p> <table><thead><tr><th style="text-align:center;">参数名</th> <th style="text-align:center;">参数类型</th> <th style="text-align:center;"><strong>是否必选</strong></th> <th style="text-align:center;"><strong>说明</strong></th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>url</strong></td> <td style="text-align:center;"><strong>string</strong></td> <td style="text-align:center;"><strong>是</strong></td> <td style="text-align:center;"><strong>要提交数据的地址</strong></td></tr> <tr><td style="text-align:center;"><strong>data</strong></td> <td style="text-align:center;"><strong>object</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;"><strong>要提交的数据</strong></td></tr> <tr><td style="text-align:center;"><strong>callback</strong></td> <td style="text-align:center;"><strong>function</strong></td> <td style="text-align:center;"><strong>否</strong></td> <td style="text-align:center;"><strong>数据提交成功时的回调函数</strong></td></tr></tbody></table></li></ul> <h3 id="_4-ajax-函数的语法"><a href="#_4-ajax-函数的语法" class="header-anchor">#</a> 4. $.ajax() 函数的语法</h3> <ul><li>相比于 $.get() 和 $.post() 函数，jQuery 中提供的 $.ajax() 函数，是一个功能比较综合的函数，它允许我们对Ajax 请求进行更详细的配置。</li> <li><strong>$.ajax() 函数的基本语法如下：</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 请求的方式，例如 get 或 post</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token comment">// 请求的 url 地址</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 这次请求要求携带的数据</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 请求成功后的回调函数</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-接口文档"><a href="#_2-接口文档" class="header-anchor">#</a> 2. 接口文档</h3> <h3 id="_1-接口文档的组成部分"><a href="#_1-接口文档的组成部分" class="header-anchor">#</a> 1. 接口文档的组成部分</h3> <ul><li>接口文档应包含以下内容：</li> <li><ul><li><strong>接口名称：用来标识各个接口的简单说明，如登录接口，获取图书列表接口等</strong></li> <li><strong>接口URL：接口的调用地址</strong></li> <li><strong>调用方式：接口的调用方式，如GET或POST</strong></li> <li><strong>参数格式：接口需要传递的参数，每个参数必须包含参数名称、参数类型、是否必选、参数说明四个内容</strong></li> <li><strong>响应格式：接口的返回值的详细描述，一般包含数据名称、数据类型、说明三项内容</strong></li> <li><strong>返回实例（可选）：通过对象的形式，例举服务器返回数据的结构</strong></li></ul></li></ul> <h2 id="_1-0-ajax运行原理及实现"><a href="#_1-0-ajax运行原理及实现" class="header-anchor">#</a> 1.0 Ajax运行原理及实现</h2> <h3 id="_1-1-ajax的实现步骤"><a href="#_1-1-ajax的实现步骤" class="header-anchor">#</a> 1.1 Ajax的实现步骤</h3> <h4 id="_1-1-1-创建ajax对象"><a href="#_1-1-1-创建ajax对象" class="header-anchor">#</a> 1.1.1 创建Ajax对象</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_1-1-2-告诉ajax请求地址以及请求方式"><a href="#_1-1-2-告诉ajax请求地址以及请求方式" class="header-anchor">#</a> 1.1.2 告诉Ajax请求地址以及请求方式</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://www.example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_1-1-3-发送请求"><a href="#_1-1-3-发送请求" class="header-anchor">#</a> 1.1.3 发送请求**</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_1-1-4-获取服务器端给与客户端的响应数据"><a href="#_1-1-4-获取服务器端给与客户端的响应数据" class="header-anchor">#</a> 1.1.4 获取服务器端给与客户端的响应数据**</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseTest<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-2-服务器端响应的数据格式"><a href="#_1-2-服务器端响应的数据格式" class="header-anchor">#</a> 1.2 服务器端响应的数据格式</h3> <ul><li><p><strong>服务器端大多数情况下会以 JSON 对象作为响应数据的格式</strong></p></li> <li><p><strong>在http请求与响应的过程中，无论是请求参数还是响应内容，如果是对象类型，最终都会被转换为对象字符串进行输出</strong></p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 将json字符串转换为json对象</span>
</code></pre></div><h3 id="_1-3-请求参数传递"><a href="#_1-3-请求参数传递" class="header-anchor">#</a> 1.3 请求参数传递</h3> <ul><li>传统网站表单提交</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.example.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.example.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><ul><li>&lt;form&gt;标签用来采集数据，&lt;form&gt;标签的属性则是用来规定<strong>如何把采集到的数据发送到服务器</strong></li></ul> <table><thead><tr><th style="text-align:center;">属性</th> <th style="text-align:center;">值</th> <th style="text-align:center;">描述</th></tr></thead> <tbody><tr><td style="text-align:center;">action</td> <td style="text-align:center;">URL地址</td> <td style="text-align:center;">规定当提交表单时，向何处发送表单数据（默认值为当前页面地址）</td></tr> <tr><td style="text-align:center;">method</td> <td style="text-align:center;">get或post</td> <td style="text-align:center;">规定以何种方式把表单数据提交到 action URL</td></tr> <tr><td style="text-align:center;">enctype</td> <td style="text-align:center;">application/x-www-form-urlencoded<br>multipart/form-data（文件上传）<br>text/plain</td> <td style="text-align:center;">规定在发送表单数据前如何对其编码</td></tr> <tr><td style="text-align:center;">target</td> <td style="text-align:center;">_blank<br>_self<br>_parent<br>_top<br>_framename</td> <td style="text-align:center;">规定在何处打开action URL</td></tr></tbody></table> <ul><li>表单同步提交的缺点</li> <li><ul><li><strong>&lt;form&gt;表单同步提交后，整个页面会发生跳转，跳转到 action URL 所指向的地址，用户体验极差</strong></li> <li><strong>&lt;form&gt;表单同步提交后，页面之前的状态和数据会丢失</strong></li> <li><strong>解决方案：表单只负责采集数据，Ajax负责将数据提交到服务器</strong></li></ul></li></ul></li> <li><p><strong>监听表单提交事件</strong></p></li> <li><ul><li>在 jQuery 中，可以使用一下两种方式，监听到表单的提交事件：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#form1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'监听到了表单的提交事件'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#form1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'监听到了表单的提交事件'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>阻止表单默认提交行为</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 第一种方法</span>
<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token comment">// 第二种方法</span>
e<span class="token punctuation">.</span><span class="token function">preveentDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><strong>快速获取表单中的数据</strong></p></li> <li><ul><li><p><strong>serialize() 函数</strong></p></li> <li><ul><li>为了简化表单中数据的获取操作，jQuery 提供了 serialize() 函数，其语法如下：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span>selector<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#form1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 调用的结果：</span>
<span class="token comment">// username=用户名的值&amp;password=密码的值</span>
</code></pre></div><ul><li>注意：在使用serialize() 函数快速获取表单数据时，**必须为每个表单元素添加 name 属性！</li></ul></li></ul></li> <li><p><strong>模板引擎</strong></p></li> <li><ul><li>它可以根据指定的模板结构和数据，自动生成一个完整的HTML页面</li> <li>优点：</li> <li><ul><li><strong>减少了字符串的拼接操作</strong></li> <li><strong>使代码结构更清晰</strong></li> <li><strong>使代码更易于阅读和维护</strong></li></ul></li> <li>art-template模板引擎
<ul><li>使用步骤：</li> <li><ul><li>导入art-template</li> <li>定义数据</li> <li>定义模板</li> <li>调用template函数</li> <li>渲染HTML结构</li></ul></li></ul></li> <li>art-template标准语法</li> <li><ul><li><p>art-template 提供了**<strong>这种语法格式，在</strong><strong>内可以进行</strong>变量输出**，或<strong>循环数组</strong>等操作</p></li> <li><p>标准语法—输出</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>obj<span class="token punctuation">.</span>key<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>obj<span class="token punctuation">[</span><span class="token string">'key'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>a <span class="token operator">?</span> b <span class="token operator">:</span> c<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>a <span class="token operator">||</span> b<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>a <span class="token operator">+</span> b<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token comment">// 在{{}}语法中，可以进行变量的输出、对象属性的输出、三元表达式的输出、逻辑或输出、加减乘除等表达式输出</span>
</code></pre></div></li> <li><p>标准语法—原文输出</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token punctuation">{</span>@ value<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token comment">// 如果要输出的value值中，包含了HTML标签结构，则需要使用原文输出语法，才能保证HTML标签被正常渲染</span>
</code></pre></div></li> <li><p>标准语法—条件输出</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 如果要实现条件输出，则可以在{{}}中使用if...else if.../if的方式，进行按需输出</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token keyword">if</span> value<span class="token punctuation">}</span><span class="token punctuation">}</span> 按需输出的内容 <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token keyword">if</span> v1<span class="token punctuation">}</span><span class="token punctuation">}</span> 按需输出的内容 <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token keyword">else</span> <span class="token keyword">if</span> v2<span class="token punctuation">}</span><span class="token punctuation">}</span> 按需输出的内容 <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token operator">/</span><span class="token keyword">if</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p>标准语法—循环输出</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 如果要实现循环输出，则可以在{{}}内，通过each语法循环数组，当前循环的索引使用$index进行访问，当前的循环项使用$value进行访问</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span>each arr<span class="token punctuation">}</span><span class="token punctuation">}</span>
	<span class="token punctuation">{</span><span class="token punctuation">{</span>$index<span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>$value<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token operator">/</span>each<span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p>标准语法—过滤器</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token punctuation">{</span>value <span class="token operator">|</span> filterName<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token comment">// 过滤器语法类似管道操作符，它的上一个输出作为下一个输入</span>
<span class="token comment">// 定义过滤器的基本语法如下：</span>
template<span class="token punctuation">.</span>defaults<span class="token punctuation">.</span>imports<span class="token punctuation">.</span><span class="token function-variable function">filterName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// return处理的结果    </span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ul></li> <li><p><strong>正则与字符串操作</strong></p> <ul><li><p>基本语法</p></li> <li><ul><li><p>exec() 函数用于<strong>检索字符串</strong>中的正则表达式的匹配。
如果字符串中有匹配的值，<strong>则返回该匹配值</strong>，否则返回<strong>null</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>RegExpObject<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>示例代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">o</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token comment">// 输出的结果为[&quot;o&quot;, index: 4, input: &quot;hello&quot;, groups: undefined]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pattern<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul></li> <li><p>分组</p></li> <li><ul><li><p>正则表达式中()包起来的内容表示一个分组，可以通过分组来<strong>提取自己想要的内容</strong>，示例如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'&lt;div&gt;我是{{name}}&lt;/div&gt;'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pattern <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">{{([A-z]+)}}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span>
<span class="token keyword">var</span> patternResult <span class="token operator">=</span> patter<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>patternResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 得到 name 相关的分组信息</span>
<span class="token comment">// [&quot;{{name}}&quot;, &quot;name&quot;, index: 7, input: &quot;&lt;div&gt;我是{{name}}&lt;/div&gt;&quot;, groups: undefined]</span>
</code></pre></div></li></ul></li> <li><p>字符串的replace函数</p></li> <li><ul><li><p>replace() 函数用于在字符串中用一些字符替换另一些字符，语法如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// abc456</span>
</code></pre></div></li> <li><p>示例代码如下：</p> <div class="language-j's extra-class"><pre class="language-text"><code>var str = '&lt;div&gt;我是{{name}}&lt;/div&gt;'
var pattern = /{{([A-z]+)}}/

var patternResult = pattern.exec(str)
</code></pre></div></li></ul></li></ul></li> <li><p><strong>GET请求方式</strong></p></li> <li><ul><li><strong>get请求通常用于获取服务器端资源（向服务器要资源）</strong></li> <li>例如：根据URL地址，从服务器获取HTML文件、css文件、js文件、图片文件、数据资源等</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://www.example.com?name=andy&amp;age=20&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>传递get请求参数</strong></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>传递get请求参数<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>用户名 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uname<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uname<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>密码 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upassword<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upassword<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>usubmit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>usubmit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>提交<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;usubmit&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> uname <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;uname&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> upassword <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;upassword&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token keyword">const</span> nameValue <span class="token operator">=</span> uname<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
            <span class="token keyword">const</span> passwordValue <span class="token operator">=</span> upassword<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

            <span class="token comment">// 拼接请求参数</span>
            <span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token string">&quot;username=&quot;</span> <span class="token operator">+</span> nameValue <span class="token operator">+</span> <span class="token string">&quot;&amp;userpassword=&quot;</span> <span class="token operator">+</span> passwordValue<span class="token punctuation">;</span>

            xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://localhost:3000/get?&quot;</span> <span class="token operator">+</span> params<span class="token punctuation">)</span><span class="token punctuation">;</span>

            xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><strong>POST请求方式</strong></li> <li><ul><li><strong>post请求通常用于向服务器提交数据（往服务器发送资源）</strong></li> <li>例如：登陆时向服务器提交的登录信息、注册时向服务器提交的注册信息、添加用户时向服务器提交的用户信息等各种数据提交操作</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/x-www-form-urlencoded&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;name=andy&amp;age=20&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>请求报文</strong></li> <li><ul><li>在HTTP请求和响应的过程中传递的数据块就叫报文，包括要传递的数据和一些附加信息，这些数据和信息要遵守规定格式。</li></ul></li></ul> <p><img src="https://gitee.com/yelishu/note/raw/master/noteImgs/1664707414569.png" alt=""></p> <h3 id="_1-4-url编码与解码"><a href="#_1-4-url编码与解码" class="header-anchor">#</a> 1.4 URL编码与解码</h3> <ul><li><p>浏览器提供了URL编码与解码的API，分别是：</p></li> <li><ul><li>encodeURI() 编码的函数</li> <li>decodeURI() 解码的函数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">encodeURI</span><span class="token punctuation">(</span><span class="token string">'翼灵物联网工作室'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">decodeURI</span><span class="token punctuation">(</span><span class="token string">'%E7%BF%BC%E7%81%B5%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E4%BD%9C%E5%AE%A4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_1-5-请求参数的格式"><a href="#_1-5-请求参数的格式" class="header-anchor">#</a> 1.5 请求参数的格式</h3> <ul><li><p><strong>XML</strong></p></li> <li><ul><li><p>XML，即可扩展标记语言，与HTML类似，也是一种标记语言</p></li> <li><p>XML与HTML虽然都是标记语言，但是两者没有任何关系</p></li> <li><ul><li>HTML 被设计用来描述网页上的内容，是网页内容的载体</li> <li>XML 被设计用来<strong>传输和存储数据</strong>，是数据的载体</li></ul></li> <li><p>XML的缺点</p></li> <li><ul><li>XML 格式臃肿，和数据无关的代码比较多，体积大，传输效率低</li> <li>在Javascript 中解析 XML 比较麻烦</li></ul></li></ul></li> <li><p><strong>JSON</strong></p></li> <li><ul><li><p>JSON语法注意事项</p> <div class="language- extra-class"><pre class="language-text"><code>- 属性名必须使用双引号包裹
- 字符串类型的值必须使用双引号包裹
- JSON中不允许使用单引号表示字符串
- JSON中不能写注释
- JSON的最外层必须是对象或数组格式
- 不能使用 undefined 或函数作为 JSON 的值

JSON的作用：在计算机与网络之间存储传输数据
JSON的本质：用字符串来表示Javascript 对象数据或数组数据
</code></pre></div></li> <li><p><strong>将 JSON 字符串转换为JS对象，使用 JSON.parse() 方法：</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'{&quot;a&quot;: &quot;Hello&quot;, &quot;b&quot;: &quot;world&quot;}'</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>将 JS 对象转换为 JSON 字符串</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
</code></pre></div></li> <li><p><strong>序列化和反序列化</strong></p></li> <li><ul><li>把数据对象转换为字符串的过程，叫做序列化，例如：调用  JSON.stringify() 函数的操作，叫做 JSON 序列化。</li> <li>把字符串转换为数据对象的过程，叫做反序列化，例如：调用  JSON.parse() 函数的操作，叫做 JSON 反序列化。</li></ul></li></ul></li> <li><p><strong>application/x-www-form-urlencoded</strong></p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>name<span class="token operator">=</span>andy<span class="token operator">&amp;</span>age<span class="token operator">=</span><span class="token number">20</span><span class="token operator">&amp;</span>sex<span class="token operator">=</span>woman
</code></pre></div><ul><li><strong>application/json</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;andy&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;woman&quot;</span><span class="token punctuation">}</span>
</code></pre></div><ul><li><strong>将js对象转换为json字符串</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// 将js对象转换为json字符串</span>
</code></pre></div><ul><li><strong>注意：get 请求是不能提交 json 对象数据格式的，传统网站的表单提交也是不支持 json 对象数据格式的</strong></li></ul> <h3 id="_1-6-获取服务器端的响应"><a href="#_1-6-获取服务器端的响应" class="header-anchor">#</a> 1.6 获取服务器端的响应</h3> <h4 id="_1-6-1-ajax状态码"><a href="#_1-6-1-ajax状态码" class="header-anchor">#</a> 1.6.1 Ajax状态码</h4> <ul><li>在创建ajax对象，配置ajax对象，发送请求，以及接收完服务器端响应数据，在这个过程中的每一个步骤都会对应一个数值，这个数值就是ajax状态码
<ul><li><strong>0：请求未初始化（ 还未调用open() ）</strong></li> <li><strong>1：请求已经建立，但是还没有发送（ 还没有调用send() ）</strong></li> <li><strong>2：请求已经发送</strong></li> <li><strong>3：请求正在处理中，通常响应中已经有部分数据可以用</strong></li> <li><strong>4：响应已经完成，可以获取并使用服务器的响应了</strong></li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>xhr<span class="token punctuation">.</span>readyState <span class="token comment">// 获取Ajax状态码</span>
</code></pre></div><h4 id="_1-6-2-onreadystatechange-事件"><a href="#_1-6-2-onreadystatechange-事件" class="header-anchor">#</a> 1.6.2 onreadystatechange 事件</h4> <ul><li>当Ajax状态码发生变化时将自动触发该事件</li></ul> <h4 id="_1-6-2-两种获取服务器端响应方式的区别"><a href="#_1-6-2-两种获取服务器端响应方式的区别" class="header-anchor">#</a> 1.6.2 两种获取服务器端响应方式的区别</h4> <table><thead><tr><th style="text-align:center;">区别描述</th> <th style="text-align:center;"><strong>onload时间</strong></th> <th style="text-align:center;"><strong>onreadystatechange事件</strong></th></tr></thead> <tbody><tr><td style="text-align:center;"><strong>是否需要判断Ajax状态码</strong></td> <td style="text-align:center;"><strong>不需要</strong></td> <td style="text-align:center;"><strong>需要</strong></td></tr> <tr><td style="text-align:center;"><strong>被调用次数</strong></td> <td style="text-align:center;"><strong>一次</strong></td> <td style="text-align:center;"><strong>多次</strong></td></tr></tbody></table> <h3 id="_1-7-ajax-运行原理及实现"><a href="#_1-7-ajax-运行原理及实现" class="header-anchor">#</a> 1.7 Ajax 运行原理及实现</h3> <h4 id="_1-7-1-ajax错误处理"><a href="#_1-7-1-ajax错误处理" class="header-anchor">#</a> 1.7.1 Ajax错误处理</h4> <ul><li>网络畅通，服务器端能接收到请求，服务器端返回的结果不是预期结果。
可以判断服务器端返回的状态码，分别进行处理。xhr.status获取http状态码</li> <li>网络畅通，服务器端没有接收到请求，返回404状态码
检查请求地址是否错误</li> <li>网络畅通，服务器端能接收到请求，服务器端返回500状态码。
服务器端错误，后端问题</li> <li>网络中断，请求无法发送到服务器端。
会触发xhr对象下的onerror事件，在onerror事件处理函数中对错误进行处理。</li></ul> <h4 id="_1-7-2-注意事项"><a href="#_1-7-2-注意事项" class="header-anchor">#</a> 1.7.2 注意事项</h4> <ul><li><strong>Ajax状态码：表示Ajax请求的过程状态 是ajax对象返回的</strong></li> <li><strong>Http状态码：表示请求的处理结果 是服务器端返回的</strong></li></ul> <h3 id="_1-8-ajax-异步编程"><a href="#_1-8-ajax-异步编程" class="header-anchor">#</a> 1.8 Ajax 异步编程</h3> <h4 id="_1-8-1-同步异步概述"><a href="#_1-8-1-同步异步概述" class="header-anchor">#</a> 1.8.1 同步异步概述</h4> <ul><li><strong>异步</strong></li> <li><ul><li>异步代码虽然需要花费时间去执行，但程序不会等待异步代码执行完成后再执行后续代码，而是直接执行后续代码，当后续代码执行完成后再回头看异步代码是否返回结果，如果已有返回结果，再调用实现准备好的回调函数处理异步代码执行的结果</li></ul></li></ul> <h3 id="_1-9-ajax-的封装"><a href="#_1-9-ajax-的封装" class="header-anchor">#</a> 1.9 Ajax 的封装</h3> <h4 id="_1-9-1-封装自己的ajax函数"><a href="#_1-9-1-封装自己的ajax函数" class="header-anchor">#</a> 1.9.1 封装自己的Ajax函数</h4> <p><strong>效果：</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 1. 导入自定义的Ajax函数库 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./myAjax.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token comment">// 2.调用自定义的 myAjax 函数，发起 Ajax 数据请求</span>
    <span class="token function">myAjax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'请求类型'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'请求地址'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">/* 请求参数对象 */</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 成功的回调函数</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>  <span class="token comment">//打印数据</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>处理data参数</strong></p> <ul><li><p>需要把 data 对象，转换成查询字符串的格式，从而提交给服务器，因此提前定义 resolveData 函数如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">resolveData</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> k <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> data<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p><strong>myAjax.js</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">resolveData</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">'='</span> <span class="token operator">+</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">myAjax</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> qs <span class="token operator">=</span> <span class="token function">resolveData</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>method<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'GET'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>method<span class="token punctuation">,</span> options<span class="token punctuation">.</span>url <span class="token operator">+</span> <span class="token string">'?'</span> <span class="token operator">+</span> qs<span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>method<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'POST'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>options<span class="token punctuation">.</span>method<span class="token punctuation">,</span> options<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'application/x-www-form-urlencoded'</span><span class="token punctuation">)</span>
        xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>qs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
            options<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-0-xmlhttprequest-level2-的新特性"><a href="#_2-0-xmlhttprequest-level2-的新特性" class="header-anchor">#</a> 2.0 XMLHttpRequest Level2 的新特性</h3> <h4 id="_2-1-认识-xmlhttprequest-的缺点"><a href="#_2-1-认识-xmlhttprequest-的缺点" class="header-anchor">#</a> 2.1 认识 XMLHttpRequest 的缺点</h4> <p><strong>旧版 XMLHttpRequest 的缺点</strong></p> <ul><li>只支持文本数据的传输，无法用来读取和上传文件</li> <li>传输和接收数据时，没有进度谢谢，只能提示有没有完成</li></ul> <h4 id="_2-2-认识-xmlhttprequest-level2"><a href="#_2-2-认识-xmlhttprequest-level2" class="header-anchor">#</a> 2.2 认识 XMLHttpRequest Level2</h4> <p><strong>XMLHttpRequest Level2 的新功能</strong></p> <ul><li>可以设置 HTTP 请求的时限</li> <li>可以使用 FormData 对象管理表单数据</li> <li>可以上传文件</li> <li>可以获得数据传输的进度信息</li></ul> <h4 id="_2-3-设置-http-请求时限"><a href="#_2-3-设置-http-请求时限" class="header-anchor">#</a> 2.3 设置 HTTP 请求时限</h4> <p>有时，Ajax 操作很耗时，并且无法预知要花多少时间。如果网速很慢，用户可能要等待很久。新版本的XMLHttpRequest 对象，增加了 timeout 属性，可以设置 HTTP 请求的时限：</p> <div class="language-js extra-class"><pre class="language-js"><code>xhr<span class="token punctuation">.</span>timeout <span class="token operator">=</span> <span class="token number">3000</span>
</code></pre></div><p>上面的语句，将最长等待时间设置为3s，超过此时限，就自动停止 HTTP 请求。与之配套的还有一个 timeout 事件，用来指定回调函数：</p> <div class="language-js extra-class"><pre class="language-js"><code>xhr<span class="token punctuation">.</span><span class="token function-variable function">ontimeout</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'请求超时'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-4-formdata-对象管理表单数据"><a href="#_2-4-formdata-对象管理表单数据" class="header-anchor">#</a> 2.4 FormData 对象管理表单数据</h4> <p>Ajax 操作往往用来提交表单数据。为了方便表单处理，HTML5 新增了一个 FormData 对象，可以模拟表单操作：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1.新建 FormData 对象</span>
<span class="token keyword">var</span> fd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 2.为 FormData 添加表单项</span>
fd<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'uname'</span><span class="token punctuation">,</span> <span class="token string">'andy'</span><span class="token punctuation">)</span>
fd<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'upassword'</span><span class="token punctuation">,</span> <span class="token string">'123456'</span><span class="token punctuation">)</span>

<span class="token comment">// 3.创建 XHR 对象</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 4.指定请求类型与URL地址</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'http://www.liulongbin.top:3006/api/formdata'</span><span class="token punctuation">)</span>

<span class="token comment">// 5.直接提交 FormData 对象，这与提交网页表单的效果，完全一样</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span>
</code></pre></div><p>FormData 对象也可以用来获取网页表单的值，实例代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 获取表单元素</span>
<span class="token keyword">var</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;form1&quot;</span><span class="token punctuation">)</span>

<span class="token comment">// 监听表单的 submit 事件</span>
form<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token comment">// 根据 form 表单创建 FormData 对象，会自动将表单数据填充到 FormData 对象中</span>
    <span class="token keyword">var</span> fd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span>form<span class="token punctuation">)</span>
    <span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> <span class="token string">'http://www.liulongbin.top:3006/api/formdata'</span><span class="token punctuation">)</span>
    xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span>
    xhr<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_2-5-上传文件"><a href="#_2-5-上传文件" class="header-anchor">#</a> 2.5 上传文件</h4> <p>新版 XMLHttpRequest 对象，不仅可以发送文本信息，还可以上传文件</p> <p>实现步骤：</p> <ul><li>定义 UI 结构</li> <li>验证是否选择了文件</li> <li>向 FormData 中追加文件</li> <li>使用 xhr 发起上传文件请求</li> <li>监听 onreadystatechange 事件</li></ul> <h4 id="_2-6-显示文件上传进度"><a href="#_2-6-显示文件上传进度" class="header-anchor">#</a> 2.6 显示文件上传进度</h4> <p>新版本的 XMLHttpRequest 对象中，可以通过监听 xhr.upload.onprogress 事件，来获取到文件的上传进度。</p> <p>语法格式如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 创建 XHR 对象</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 监听 xhr.upload 的 onprogress 事件</span>
xhr<span class="token punctuation">.</span>upload<span class="token punctuation">.</span><span class="token function-variable function">onprogress</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// e.lengthComputable 是一个布尔值，表示当前上传的资源是否具有可计算的长度</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>lengthComputable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// e.loaded 已传输的字节</span>
        <span class="token comment">// e.total 需传输的总字节</span>
        <span class="token keyword">var</span> percentComplete <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>loaded <span class="token operator">/</span> e<span class="token punctuation">.</span>total<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-0-jquery-高级用法"><a href="#_3-0-jquery-高级用法" class="header-anchor">#</a> 3.0 jQuery 高级用法</h3> <h4 id="_3-1-jquery-实现文件上传"><a href="#_3-1-jquery-实现文件上传" class="header-anchor">#</a> 3.1 jQuery 实现文件上传</h4> <p><strong>定义 UI 结构</strong></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- 导入 jQuery --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./jQuery/jQuery.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 文件选择框 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- 上传文件按钮 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnUpload<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>上传<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btnUpload'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">var</span> files <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#file1'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>files<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>files<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;请选择文件后再上传！&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">var</span> fd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                fd<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">'avatar'</span><span class="token punctuation">,</span> files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://www.liulongbin.top:3006/api/upload/avatar'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">data</span><span class="token operator">:</span> fd<span class="token punctuation">,</span>
                    <span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">processData</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#img'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://www.liulongbin.top:3006&quot;</span> <span class="token operator">+</span> res<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_3-2-jquery-实现-loading-效果"><a href="#_3-2-jquery-实现-loading-效果" class="header-anchor">#</a> 3.2 jQuery 实现 loading 效果</h4> <p><strong>ajaxStart（callback）</strong></p> <p>Ajax请求<strong>开始</strong>时，执行 ajaxStart 函数。可以在 ajaxStart 的 callback 中显示 loading 效果，示例代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 自 jQuery 版本1.8起，该方法只能被附加到文档</span>
<span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ajaxStart</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#loading'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>注意：$(document).ajaxStart() 函数<strong>会监听当前文档内所有的 Ajax 请求</strong></p> <p><strong>ajaxStop（callback）</strong></p> <p>Ajax 请求<strong>结束</strong>时，执行 ajaxStop 函数。可以在 ajaxStop 的 callback 中隐藏 loading 效果，代码如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 自 jQuery 版本1.8起，该方法只能被附加到文档</span>
<span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ajaxStop</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#loading'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-0-axios"><a href="#_4-0-axios" class="header-anchor">#</a> 4.0 axios</h3> <h4 id="_4-1-什么是-axios"><a href="#_4-1-什么是-axios" class="header-anchor">#</a> 4.1 什么是 axios</h4> <p>Axios 是专注于<strong>网络数据请求</strong>的库。</p> <p>相比于原生的 XMLHttpRequest 对象，axios <strong>简单易用</strong>。</p> <p>相比于 jQuery，axios 更加<strong>轻量化</strong>，只专注于网络数据请求。</p> <h4 id="_4-2-axios-发起get请求"><a href="#_4-2-axios-发起get请求" class="header-anchor">#</a> 4.2 axios 发起GET请求</h4> <p>axios 发起 get 请求的语法：</p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token comment">/*参数*/</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>
</code></pre></div><p>具体的请求实例如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 请求的 URL 地址</span>
<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'http://www.liulongbin.top:3006/api/get'</span>

<span class="token comment">// 请求的参数对象</span>
<span class="token keyword">var</span> paramsObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'andy'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">}</span>

<span class="token comment">// 调用 axios.get() 发起GET请求</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">params</span><span class="token operator">:</span> paramsObj<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// res.data 是服务器返回的数据</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> res<span class="token punctuation">.</span>data
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_4-3-axios-发起post请求"><a href="#_4-3-axios-发起post请求" class="header-anchor">#</a> 4.3 axios 发起POST请求</h4> <p>axios 发起 post 请求语法：</p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment">/* 参数 */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>
</code></pre></div><p>具体的请求示例如下：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 请求的 URL 地址</span>
<span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">'http://www.liulongbin.top:3006/api/post'</span>

<span class="token comment">// 要提交到服务器的数据</span>
<span class="token keyword">var</span> dataObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">location</span><span class="token operator">:</span> <span class="token string">'四川'</span><span class="token punctuation">,</span> <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">'成都'</span> <span class="token punctuation">}</span>

<span class="token comment">// 调用 axios.post() 发起 POST 请求</span>
axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> dataObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// res.data 是服务器返回的数据</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> res<span class="token punctuation">.</span>data
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_4-4-直接使用-axios-发起请求"><a href="#_4-4-直接使用-axios-发起请求" class="header-anchor">#</a> 4.4 直接使用 axios 发起请求</h4> <p><strong>直接使用 axios 发起 GET 请求</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://www.liulongbin.top:3006/api/getbooks'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// GET 参数要通过 params 属性提供</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>直接使用 axios 发起 POST 请求</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://www.liulongbin.top:3006/api/addbook'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// POST 数据需要通过 data 属性提供</span>
        <span class="token literal-property property">bookname</span><span class="token operator">:</span> <span class="token string">'程序设计'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">author</span><span class="token operator">:</span> <span class="token string">'啊哈'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">publisher</span><span class="token operator">:</span> <span class="token string">'啊哈出版社'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>）
</code></pre></div><h3 id="_5-0-了解同源策略和跨域"><a href="#_5-0-了解同源策略和跨域" class="header-anchor">#</a> 5.0 了解同源策略和跨域</h3> <h4 id="_5-1-同源策略"><a href="#_5-1-同源策略" class="header-anchor">#</a> 5.1 同源策略</h4> <p><strong>什么是同源</strong></p> <p>如果两个页面的协议，域名和端口都相同，则两个页面具有相同的源。</p> <p>默认端口号为80</p> <p><strong>什么是同源策略</strong></p> <p><strong>同源策略是浏览器提供的一个安全功能</strong></p> <p>浏览器规定，A网站的 JavaScript 不允许和非同源的网站 C 之间进行资源的交互，例如：</p> <ul><li>无法读取非同源网页的 Cookie、LocalStorage 和 IndexedDB</li> <li>无法接触非同源网页的 DOM</li> <li>无法向非同源地址发送 Ajax 请求</li></ul> <h4 id="_5-2-跨域"><a href="#_5-2-跨域" class="header-anchor">#</a> 5.2 跨域</h4> <p><strong>什么是跨域</strong></p> <p><strong>同源指的是两个 URL 的协议、域名、端口一致，反之，则是跨域。</strong></p> <p>出现跨域的根本原因：<strong>浏览器的同源策略</strong>不允许非同源的 URL 之间进行资源的交互。</p> <p><strong>浏览器对跨域请求的拦截</strong></p> <p><img src="https://gitee.com/yelishu/note/raw/master/noteImgs/1666585865382.png" alt="noteImg-1666585865382"></p> <p><strong>如何实现跨域数据请求</strong></p> <p>实现跨域数据请求，最主要的两种解决方案，分别是 <strong>JSONP</strong> 和 <strong>CORS。</strong></p> <p>JSONP: <strong>只支持 GET 请求，不支持 POST 请求。</strong></p> <p>CORS: <strong>支持 GET 和 POST 请求。</strong></p> <h4 id="_5-3-jsonp的实现原理"><a href="#_5-3-jsonp的实现原理" class="header-anchor">#</a> 5.3 JSONP的实现原理</h4> <p>由于浏览器同源策略的限制，网页中无法通过 Ajax 请求非同源的接口数据。但是 &lt;script&gt; 标签不受浏览器同源策略的影响，可以通过 src 属性，请求非同源的 js 脚本。</p> <p>JSONP 的实现原理，就是通过 &lt;script&gt; 标签的 src 属性，请求跨域的数据接口，并通过<strong>函数调用</strong>的形式，接收跨域接口响应回来的数据。</p> <h4 id="_5-5-实现一个简单的-jsonp"><a href="#_5-5-实现一个简单的-jsonp" class="header-anchor">#</a> 5.5 实现一个简单的 JSONP</h4> <p>定义一个 success 回调函数：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;获取到了data数据：&quot;</span><span class="token punctuation">)</span>
        consloe<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>通过 &lt;script&gt; 标签，请求接口数据：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.liulongbin.top:3006/api/jsonp?callback=success&amp;name=andy&amp;age=20<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_5-6-jsonp-的缺点"><a href="#_5-6-jsonp-的缺点" class="header-anchor">#</a> 5.6 JSONP 的缺点</h4> <p>由于 JSONP 是<strong>通过 &lt;script&gt; 标签的 src 属性来实现跨域数据获取</strong>的，所以，<strong>JSONP 只支持 GET 数据请求，不支持 POST 请求</strong>。</p> <p>注意：<strong>JSONP 和 Ajax 之间没有任何关系</strong>，不能把 JSONP 请求数据的方式叫做 Ajax，因为 JSONP 没有用到 XMLHttpRequest 这个对象。</p> <h4 id="_5-7-jquery-中的-jsonp"><a href="#_5-7-jquery-中的-jsonp" class="header-anchor">#</a> 5.7 jQuery 中的 JSONP</h4> <p>jQuery 提供的 <strong>$.ajax()</strong> 函数，除了可以发起真正的 Ajax 数据请求外，还可以发起 JSONP 数据请求，例如：</p> <div class="language-js extra-class"><pre class="language-js"><code>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">'http://www.liulongbin.top:3006/api/jsonp?name=andy&amp;age=20&amp;phone=小米'</span><span class="token punctuation">,</span>
    <span class="token comment">// 如果要使用 $.ajax() 发起 JSONP 请求，必须指定 dataType 为 jsonp</span>
    <span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">'jsonp'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        consloe<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>默认情况下，使用jQuery发起 JSONP 请求，会自动携带一个 callback=jQueryxxx 的参数，jQueryxxx 是随机生成的一个回调函数名称。</p> <p><strong>自定义参数及回调函数名称</strong></p> <p>在使用 jQuery 发起 JSONP 请求时，如果想要自定义 JSONP 的参数及回调函数名称，可以通过如下两个参数来指定：</p> <div class="language-js extra-class"><pre class="language-js"><code>$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'http://www.liulongbin.top:3006/api/jsonp?name=andy&amp;age=20&amp;phone=小米'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">'jsonp'</span><span class="token punctuation">,</span> <span class="token comment">// 指定类型为 jsonp</span>
    <span class="token literal-property property">jsonp</span><span class="token operator">:</span> <span class="token string">'callback'</span><span class="token punctuation">,</span> <span class="token comment">// 发送到服务器端的参数名称，默认值为callback</span>
    <span class="token literal-property property">jsonpCallback</span><span class="token operator">:</span> <span class="token string">'success'</span><span class="token punctuation">,</span> <span class="token comment">// 自定义的回调函数名称，默认值为 jQueryxxx 格式</span>
    <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>jQuery 中 JSONP 的实现过程</strong></p> <p>jQuery 中的 JSONP，也是通过 &lt;script&gt; 标签的 src 属性实现跨域数据访问的，只不过，jQuery 采用的是<strong>动态创建和移除 &lt;script&gt; 标签</strong>的方式，来发起 JSONP 数据请求。</p> <ul><li>在发起 JSONP 请求的时候，动态向 &lt;header&gt; 中 append 一个 &lt;script&gt; 标签</li> <li>在 JSONP 请求成功以后，动态从 &lt;header&gt; 中移除刚才 append 进去的 &lt;script&gt; 标签</li></ul> <h3 id="_6-0-输入框的防抖"><a href="#_6-0-输入框的防抖" class="header-anchor">#</a> 6.0 输入框的防抖</h3> <h4 id="_6-1-什么是防抖"><a href="#_6-1-什么是防抖" class="header-anchor">#</a> 6.1 什么是防抖</h4> <p><strong>防抖策略</strong>是当事件被触发后，<strong>延迟n秒</strong>后再<strong>执行回调</strong>，如果在这 <strong>n秒内事件又被触发</strong>，则<strong>重新计时。</strong></p> <p><img src="https://gitee.com/yelishu/note/raw/master/noteImgs/1666704506117.png" alt="noteImg-1666704506117"></p> <h4 id="_6-2-防抖的应用场景"><a href="#_6-2-防抖的应用场景" class="header-anchor">#</a> 6.2 防抖的应用场景</h4> <p>用户在输入框中连续输入一串字符时，可以通过防抖策略，只在输入完成后，才执行查询请求，这样可以有效减少请求次数，节约请求资源。</p> <h4 id="_6-3-实现输入框的防抖"><a href="#_6-3-实现输入框的防抖" class="header-anchor">#</a> 6.3 实现输入框的防抖</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span>  <span class="token comment">// 1.防抖的 timer</span>

<span class="token keyword">function</span> <span class="token function">debounceSearch</span><span class="token punctuation">(</span><span class="token parameter">keywords</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 2.定义防抖的函数</span>
    timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 发起 JSONP 请求</span>
        <span class="token function">getSuggestList</span><span class="token punctuation">(</span>keywords<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#ipt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'keyup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 3.在触发 keyup 事件时，立即清空 timer</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
    
    <span class="token function">debounceSearch</span><span class="token punctuation">(</span>keywords<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_6-4-缓存搜索的建议列表"><a href="#_6-4-缓存搜索的建议列表" class="header-anchor">#</a> 6.4 缓存搜索的建议列表</h4> <p><strong>将搜索结果保存到缓存对象中</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 渲染建议列表</span>
<span class="token keyword">function</span> <span class="token function">renderSuggestList</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将搜索到的结果，添加到缓存对象中</span>
    <span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#ipt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cacheObj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> res
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_6-5-节流"><a href="#_6-5-节流" class="header-anchor">#</a> 6.5 节流</h4> <p><strong>节流策略</strong>，顾名思义，可以减少一段时间内事件的触发频率。</p> <p><img src="https://gitee.com/yelishu/note/raw/master/noteImgs/1666800749487.png" alt="noteImg-1666800749487"></p> <p><strong>节流的应用场景</strong></p> <ul><li>鼠标连续不断地触发某事件（如点击），只在单位时间内触发一次</li> <li>懒加载时要监听计算滚动条的位置，但不必每次滑动都触发，可以降低计算的频率，而不必去浪费 CPU 资源</li></ul> <p><strong>节流阀的概念</strong></p> <p>节流阀为空，表示可以执行下次操作；不为空，表示不能执行下一次操作。</p> <p>当前操作执行完，必须将节流阀置空，表示可以执行下次操作了。</p> <p>每次操作前，必须<strong>先判断节流阀是否为空。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> test_img <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#img1'</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// 预定义一个 timer 节流阀</span>
    <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 判断节流阀是否为空，如果不为空，则证明距离上次执行间隔不足30ms</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            test_img<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'left'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>pageX <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'top'</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>pageY <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">)</span>
            timer <span class="token operator">=</span> <span class="token keyword">null</span>  <span class="token comment">// 当设置了鼠标跟随效果后，清空 timer 节流阀，方便下次开启延时器</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_6-6-总结防抖和节流的区别"><a href="#_6-6-总结防抖和节流的区别" class="header-anchor">#</a> 6.6 总结防抖和节流的区别</h4> <ul><li>防抖：如果事件被频繁触发，防抖能保证**只有最后一次触发生效！**前面 N 多次的触发都会被忽略！</li> <li>节流：如果事件被频繁触发，节流能够<strong>减少事件触发的频率</strong>，因此，节流是<strong>有选择性地</strong>执行一部分事件！</li></ul> <h3 id="_7-0-通信"><a href="#_7-0-通信" class="header-anchor">#</a> 7.0 通信</h3> <h4 id="_7-1-什么是通信"><a href="#_7-1-什么是通信" class="header-anchor">#</a> 7.1 什么是通信</h4> <p>案例：服务器把数据通过响应的方式发送给客户端浏览器。</p> <p>通信的主体是服务器和客户端浏览器</p> <p>通信的内容是数据</p> <p>通信的方式是响应</p> <h4 id="_7-2-什么是通信协议"><a href="#_7-2-什么是通信协议" class="header-anchor">#</a> 7.2 什么是通信协议</h4> <p><strong>通信协议</strong>是指通信双方完成通信所必须遵守的规则和约定</p> <p>即：通信双方采用约定好的格式来发送和接收消息，这种事先约定好的通信格式，就叫通信协议</p> <p><strong>互联网中的通信协议</strong></p> <p>客户端与服务器端之间要实现网页内容的传输，则通信的双方必须遵守网页内容的传输协议。</p> <p>网页内容又叫<strong>超文本</strong>，因此网页内容的传输协议又叫做<strong>超文本传输协议</strong>，简称 <strong>HTTP 协议</strong>。</p> <h4 id="_7-3-什么是http协议"><a href="#_7-3-什么是http协议" class="header-anchor">#</a> 7.3 什么是HTTP协议</h4> <p><strong>HTTP 协议</strong>即超文本传输协议，它规定了客户端与服务器之间进行网页内容传输时，所必须遵守的传输格式。</p> <p>例如：</p> <ul><li><p>客户端要以 HTTP 协议要求的格式把数据提交到服务器端</p></li> <li><p>服务器要以 HTTP 协议要求的格式把数据内容响应给客户端</p></li></ul> <p><strong>HTTP 协议的交互模型</strong></p> <p><img src="https://gitee.com/yelishu/note/raw/master/noteImgs/1666941572358.png" alt=""></p> <h4 id="_7-4-什么是-http-请求消息"><a href="#_7-4-什么是-http-请求消息" class="header-anchor">#</a> 7.4 什么是 HTTP 请求消息</h4> <p>由于 HTTP 协议属于客户端浏览器和服务器端之间的通信协议。因此，客户端发起的请求叫做 HTTP 请求，客户端发送到服务器的消息，叫做 HTTP 请求消息</p> <p>注意：HTTP 请求消息又叫做 HTTP 请求报文</p> <p><strong>HTTP 请求消息的组成部分</strong></p> <p><img src="https://gitee.com/yelishu/note/raw/master/noteImgs/1666941897592.png" alt=""></p> <p><strong>HTTP 响应消息的组成部分</strong></p> <p><img src="https://gitee.com/yelishu/note/raw/master/noteImgs/1666942931980.png" alt=""></p> <h4 id="_7-5-http-的请求方法"><a href="#_7-5-http-的请求方法" class="header-anchor">#</a> 7.5 HTTP 的请求方法</h4> <p><strong>HTTP 的请求方法</strong></p> <table><thead><tr><th style="text-align:center;">序号</th> <th style="text-align:center;">方法</th> <th style="text-align:center;">描述</th></tr></thead> <tbody><tr><td style="text-align:center;">1</td> <td style="text-align:center;"><strong>GET</strong></td> <td style="text-align:center;">（查询）发送请求来获得服务器上的资源，请求体中不会包含请求数据，请求数据放在协议头中</td></tr> <tr><td style="text-align:center;">2</td> <td style="text-align:center;"><strong>POST</strong></td> <td style="text-align:center;">（新增）向服务器提交资源。数据包含在请求体中提交给服务器</td></tr> <tr><td style="text-align:center;">3</td> <td style="text-align:center;"><strong>PUT</strong></td> <td style="text-align:center;">（修改）向服务器提交资源，并使用提交的新资源，替换掉服务器对应的旧资源</td></tr> <tr><td style="text-align:center;">4</td> <td style="text-align:center;"><strong>DELETE</strong></td> <td style="text-align:center;">（删除）请求服务器删除指定的资源</td></tr></tbody></table> <h4 id="_7-6-什么是-http-响应状态码"><a href="#_7-6-什么是-http-响应状态码" class="header-anchor">#</a> 7.6 什么是 HTTP 响应状态码</h4> <p><strong>HTTP 响应状态码</strong>，也属于 HTTP 协议的一部分，用来标识响应的状态</p> <p>响应状态码会随着响应消息一起被发送到客户端浏览器，浏览器会根据服务器返回的响应状态码，就能知道这次 HTTP 请求的结果是成功还是失败了</p> <p><strong>HTTP 响应状态码的组成及分类</strong></p> <p>HTTP 状态码由三个十进制数字组成，第一个十进制数字定义了状态码的类型，后两个数字用来对状态码进行细分</p> <p>HTTP 状态码分为 5 种类型：</p> <table><thead><tr><th style="text-align:center;"><strong>分类</strong></th> <th style="text-align:left;"><strong>分类描述</strong></th></tr></thead> <tbody><tr><td style="text-align:center;">1**</td> <td style="text-align:left;">信息，服务器收到请求，需要请求者继续执行操作（很少遇到）</td></tr> <tr><td style="text-align:center;">2**</td> <td style="text-align:left;">成功，操作被成功接收并处理</td></tr> <tr><td style="text-align:center;">3**</td> <td style="text-align:left;">重定向，需要进一步的操作以完成请求</td></tr> <tr><td style="text-align:center;">4**</td> <td style="text-align:left;">客户端错误，请求包含语法错误或无法完成请求</td></tr> <tr><td style="text-align:center;">5**</td> <td style="text-align:left;">服务器错误，服务器在处理请求的过程中发生了错误</td></tr></tbody></table> <p><em><em>2*</em> 成功相关的响应状态码</em>*</p> <p>2** 范围的状态码，表示服务器已经接收到请求并进行处理。常见的 2** 类型的状态码如下：</p> <table><thead><tr><th>状态码</th> <th>状态码英文名称</th> <th style="text-align:left;">中文描述</th></tr></thead> <tbody><tr><td>200</td> <td>OK</td> <td style="text-align:left;">请求成功。一般用于 GET 和 POST 请求</td></tr> <tr><td>201</td> <td>Created</td> <td style="text-align:left;">已创建。成功请求并创建了新的资源，常用于 POST 或 PUT 请求</td></tr></tbody></table> <p><em><em>3*</em> 重定向相关的响应状态码</em>*</p> <p>3** 范围的状态码，表示服务器要求客户端重定向，需要客户端进一步的操作以完成资源的请求。常见的 3** 类型的状态码如下：</p> <table><thead><tr><th>状态码</th> <th>状态码英文名称</th> <th style="text-align:left;">中文描述</th></tr></thead> <tbody><tr><td>301</td> <td>Moved Permanently</td> <td style="text-align:left;">永久移动。请求的资源已被永久的移动到新 URI，返回信息会包含新的 URI，浏览器会自动定向到新 URI。今后任何新的请求都应使用新的 URI代替。</td></tr> <tr><td>302</td> <td>Found</td> <td style="text-align:left;">临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有 URI。</td></tr> <tr><td>304</td> <td>Not Modified</td> <td style="text-align:left;">未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源（响应消息中不包含响应体）。客户端通常会缓存访问过的资源。</td></tr></tbody></table> <p><em><em>4*</em> 客户端错误相关的响应状态码</em>*</p> <p>4** 范围的状态码，表示客户端的请求有非法内容，从而导致这次请求失败。常见的 4** 类型的状态码如下：</p> <table><thead><tr><th>状态码</th> <th>状态码英文名称</th> <th style="text-align:left;">中文描述</th></tr></thead> <tbody><tr><td>400</td> <td>Bad Request</td> <td style="text-align:left;">1、语义有误，当前请求无法被服务器理解。除非进行修改，否则客户端不应该重复提交这个请求。<br>2、请求参数有误。</td></tr> <tr><td>401</td> <td>Unauthorized</td> <td style="text-align:left;">当前请求需要用户验证。</td></tr> <tr><td>403</td> <td>Forbidden</td> <td style="text-align:left;">服务器已经理解请求，但是拒绝执行它。</td></tr> <tr><td>404</td> <td>Not Found</td> <td style="text-align:left;">服务器无法根据客户端的请求找到资源（网页）。</td></tr> <tr><td>408</td> <td>Request Timeout</td> <td style="text-align:left;">请求超时。服务器等待客户端发送的请求时间过长，超时。</td></tr></tbody></table> <p><em><em>5*</em> 服务端错误相关的响应状态码</em>*</p> <p>5** 范围的状态码，表示服务器未能正常处理客户端的请求而出现意外错误。常见的 5** 类型的状态码如下：</p> <table><thead><tr><th>状态码</th> <th>状态码英文名称</th> <th style="text-align:left;">中文描述</th></tr></thead> <tbody><tr><td>500</td> <td>Internal Server Error</td> <td style="text-align:left;">服务器内部错误，无法完成请求。</td></tr> <tr><td>501</td> <td>Not Implemented</td> <td style="text-align:left;">服务器不支持该请求方法，无法完成请求。只有 GET 和 HEAD 请求方法是要求每个服务器必须支持的，其他请求方法在不支持的服务器上会返回 501</td></tr> <tr><td>503</td> <td>Service Unavailable</td> <td style="text-align:left;">由于超载或系统维护，服务器暂时的无法处理客户端的请求。</td></tr></tbody></table></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/blogs/blogs/7.html#绪-jquery中的ajax" class="sidebar-link reco-side-绪-jquery中的ajax" data-v-b57cc07c>绪  jQuery中的Ajax</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_1-了解-jquery-中的-ajax" class="sidebar-link reco-side-_1-了解-jquery-中的-ajax" data-v-b57cc07c>1. 了解 jQuery 中的 Ajax</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_2-get-函数的语法" class="sidebar-link reco-side-_2-get-函数的语法" data-v-b57cc07c>2. $.get() 函数的语法</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_3-post-函数的语法" class="sidebar-link reco-side-_3-post-函数的语法" data-v-b57cc07c>3.  $.post() 函数的语法</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_4-ajax-函数的语法" class="sidebar-link reco-side-_4-ajax-函数的语法" data-v-b57cc07c>4. $.ajax() 函数的语法</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_2-接口文档" class="sidebar-link reco-side-_2-接口文档" data-v-b57cc07c>2. 接口文档</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_1-接口文档的组成部分" class="sidebar-link reco-side-_1-接口文档的组成部分" data-v-b57cc07c>1. 接口文档的组成部分</a></li><li class="level-2" data-v-b57cc07c><a href="/blogs/blogs/7.html#_1-0-ajax运行原理及实现" class="sidebar-link reco-side-_1-0-ajax运行原理及实现" data-v-b57cc07c>1.0 Ajax运行原理及实现</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_1-1-ajax的实现步骤" class="sidebar-link reco-side-_1-1-ajax的实现步骤" data-v-b57cc07c>1.1 Ajax的实现步骤</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_1-2-服务器端响应的数据格式" class="sidebar-link reco-side-_1-2-服务器端响应的数据格式" data-v-b57cc07c>1.2 服务器端响应的数据格式</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_1-3-请求参数传递" class="sidebar-link reco-side-_1-3-请求参数传递" data-v-b57cc07c>1.3 请求参数传递</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_1-4-url编码与解码" class="sidebar-link reco-side-_1-4-url编码与解码" data-v-b57cc07c>1.4 URL编码与解码</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_1-5-请求参数的格式" class="sidebar-link reco-side-_1-5-请求参数的格式" data-v-b57cc07c>1.5 请求参数的格式</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_1-6-获取服务器端的响应" class="sidebar-link reco-side-_1-6-获取服务器端的响应" data-v-b57cc07c>1.6 获取服务器端的响应</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_1-7-ajax-运行原理及实现" class="sidebar-link reco-side-_1-7-ajax-运行原理及实现" data-v-b57cc07c>1.7 Ajax 运行原理及实现</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_1-8-ajax-异步编程" class="sidebar-link reco-side-_1-8-ajax-异步编程" data-v-b57cc07c>1.8 Ajax 异步编程</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_1-9-ajax-的封装" class="sidebar-link reco-side-_1-9-ajax-的封装" data-v-b57cc07c>1.9 Ajax 的封装</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_2-0-xmlhttprequest-level2-的新特性" class="sidebar-link reco-side-_2-0-xmlhttprequest-level2-的新特性" data-v-b57cc07c>2.0 XMLHttpRequest Level2 的新特性</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_3-0-jquery-高级用法" class="sidebar-link reco-side-_3-0-jquery-高级用法" data-v-b57cc07c>3.0 jQuery 高级用法</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_4-0-axios" class="sidebar-link reco-side-_4-0-axios" data-v-b57cc07c>4.0 axios</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_5-0-了解同源策略和跨域" class="sidebar-link reco-side-_5-0-了解同源策略和跨域" data-v-b57cc07c>5.0 了解同源策略和跨域</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_6-0-输入框的防抖" class="sidebar-link reco-side-_6-0-输入框的防抖" data-v-b57cc07c>6.0 输入框的防抖</a></li><li class="level-3" data-v-b57cc07c><a href="/blogs/blogs/7.html#_7-0-通信" class="sidebar-link reco-side-_7-0-通信" data-v-b57cc07c>7.0 通信</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:-1;" data-v-248d85d6></canvas></div><canvas id="vuepress-canvas-cursor"></canvas><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="https://yelishu.gitee.io/blogs/bg.mp3" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:20px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="https://p2.music.126.net/ZvYHj8W72RwrnOJiOGaL9g==/109951163074555333.jpg?param=130y130" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(https://p2.music.126.net/ZvYHj8W72RwrnOJiOGaL9g==/109951163074555333.jpg?param=130y130);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>❀</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>nevva</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div></div></div>
    <script src="/blogs/assets/js/app.b10d3b76.js" defer></script><script src="/blogs/assets/js/7.51cf2bb3.js" defer></script><script src="/blogs/assets/js/2.90913472.js" defer></script><script src="/blogs/assets/js/1.c35ebe2c.js" defer></script><script src="/blogs/assets/js/68.1f08c812.js" defer></script>
  </body>
</html>
